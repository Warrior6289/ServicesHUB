{"version":3,"mappings":"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","names":["m","require$$0","createRoot","hydrateRoot","env","requiredEnvVars","NODE_ENV","__vite_import_meta_env__","VITE_APP_VERSION","Error","config","API_BASE_URL","APP_VERSION","SENTRY_DSN","ANALYTICS_ID","validateEnvironment","isProduction","apiClient","client","axios","create","baseURL","timeout","headers","interceptors","request","use","token","localStorage","getItem","Authorization","error","Promise","reject","response","async","originalRequest","_a","status","_retry","refreshToken","post","accessToken","newRefreshToken","data","setItem","refreshError","removeItem","window","location","href","createApiClient","api","get","url","put","patch","delete","upload","file","onProgress","formData","FormData","append","onUploadProgress","progressEvent","total","progress","Math","round","loaded","uploadMultiple","files","forEach","index","authApi","userData","credentials","handleApiError","message","code","initialState","user","isAuthenticated","isLoading","authReducer","state","action","type","payload","AuthContext","createContext","AuthProvider","children","dispatch","useReducer","useEffect","success","refreshResponse","newAccessToken","userResponse","initializeAuth","contextValue","login","email","password","apiError","register","logout","refreshAuth","clearError","updateUser","role","loginAs","Provider","value","useAuth","context","useContext","useClickOutside","callback","enabled","ref","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","useDropdown","isOpen","setIsOpen","useState","closeDropdown","useCallback","toggleDropdown","prev","openDropdown","closeDropdownManual","UserRoleToggle","navigate","useNavigate","useLocation","roles","label","icon","className","fill","stroke","viewBox","jsx","strokeLinecap","strokeLinejoin","strokeWidth","d","description","jsxs","currentRole","find","r","onClick","map","roleOption","newRole","currentPath","pathname","handleRoleChange","fillRule","clipRule","ThemeToggle","isDark","setIsDark","React","documentElement","classList","toggle","root","next","UserProfile","dropdownRef","useMemo","stored","JSON","parse","userName","name","userEmail","getInitials","split","word","join","toUpperCase","slice","dashboardLink","Link","to","Header","open","setOpen","NavLink","v","isActive","Fragment","Footer","placeholder","Date","getFullYear","Breadcrumbs","segments","filter","Boolean","items","seg","idx","decodeURIComponent","replace","c","item","i","isLast","length","ErrorBoundary","Component","constructor","props","super","__publicField","this","setState","hasError","errorInfo","getDerivedStateFromError","componentDidCatch","onError","render","fallback","FallbackComponent","retry","handleRetry","reload","NotificationManager","subscribe","listener","listeners","push","l","addNotification","notification","id","random","toString","substr","newNotification","duration","notifications","notifyListeners","setTimeout","removeNotification","n","clearAll","title","warning","info","ToastItem","onRemove","motion","div","initial","opacity","y","scale","animate","exit","transition","getBackgroundColor","getIcon","ToastContainer","setNotifications","useNotifications","AnimatePresence","AppLayout","isHomePage","isAuthPage","RouteTransitions","Outlet","mode","RouteErrorBoundary","useRouteError","isRouteErrorResponse","statusText","DashboardRedirect","Navigate","HomePage","lazy","__vitePreload","import","__VITE_PRELOAD__","LoginPage","SignupPage","AdminPage","UserDashboardPage","SellerDashboardPage","ProfilePage","AboutPage","NotFoundPage","ServicesPage","HowItWorksPage","PricingPage","ContactPage","HelpCenterPage","FAQPage","TermsPage","PrivacyPage","CookiesPage","RequestServicePage","ServiceRequestDetailsPage","AppWithAuth","Suspense","router","createBrowserRouter","element","errorElement","path","analyticsService","measurementId","init","isInitialized","script","createElement","gtag","args","dataLayer","src","head","appendChild","page_title","page_location","trackPageView","pagePath","pageTitle","page_path","trackEvent","eventName","parameters","event_category","category","event_label","trackRegistration","method","trackLogin","trackServiceRequestCreated","requestType","price","request_type","service_category","trackServiceRequestAccepted","requestId","sellerId","request_id","seller_id","trackServiceRequestCompleted","trackSellerProfileCreated","categories","service_categories","trackSearch","searchTerm","resultsCount","search_term","results_count","trackFileUpload","fileType","fileSize","file_type","file_size","trackError","errorMessage","errorCode","error_message","error_code","trackConversion","transactionId","currency","transaction_id","setUserProperties","properties","user_properties","setUserId","userId","user_id","trackTiming","trackSocialInteraction","network","social_network","social_action","social_target","trackOutboundLink","transport_type","trackFormSubmission","formName","formType","form_name","form_type","trackVideoInteraction","videoTitle","video_action","video_title","video_progress","trackScrollDepth","depth","scroll_depth","trackTimeOnPage","timeInSeconds","CookieConsent","onAccept","onDecline","isVisible","setIsVisible","showDetails","setShowDetails","preferences","setPreferences","necessary","analytics","marketing","togglePreference","key","height","stringify","allPreferences","navigator","serviceWorker","then","registration","catch","registrationError","rootElement","getElementById","AppWithConsent","handleAccept","handleDecline","consent","setConsent","savedConsent","analytics_storage","ad_storage","hasConsent","useCookieConsent","RouterProvider","StrictMode"],"ignoreList":[0],"sources":["../../node_modules/react-dom/client.js","../../src/lib/env.ts","../../src/api/client.ts","../../src/lib/auth.tsx","../../src/hooks/useClickOutside.ts","../../src/components/UserRoleToggle.tsx","../../src/components/ThemeToggle.tsx","../../src/components/UserProfile.tsx","../../src/components/Header.tsx","../../src/components/Footer.tsx","../../src/components/Breadcrumbs.tsx","../../src/components/ErrorBoundary.tsx","../../src/lib/errorHandling.ts","../../src/components/ToastContainer.tsx","../../src/ui/AppLayout.tsx","../../src/ui/RouteErrorBoundary.tsx","../../src/components/DashboardRedirect.tsx","../../src/routes/index.tsx","../../src/services/analytics.ts","../../src/components/CookieConsent.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// Environment configuration and validation\r\ninterface EnvironmentConfig {\r\n  API_BASE_URL: string;\r\n  NODE_ENV: 'development' | 'production' | 'test';\r\n  APP_VERSION: string;\r\n  SENTRY_DSN?: string;\r\n  ANALYTICS_ID?: string;\r\n}\r\n\r\nfunction validateEnvironment(): EnvironmentConfig {\r\n  const requiredEnvVars = {\r\n    NODE_ENV: import.meta.env['NODE_ENV'],\r\n    VITE_APP_VERSION: import.meta.env['VITE_APP_VERSION'],\r\n  };\r\n\r\n  // Validate required environment variables\r\n  if (!requiredEnvVars.NODE_ENV) {\r\n    throw new Error('NODE_ENV is required');\r\n  }\r\n\r\n  const config: EnvironmentConfig = {\r\n    API_BASE_URL: '/api', // Use relative path for Vercel serverless functions\r\n    NODE_ENV: requiredEnvVars.NODE_ENV as EnvironmentConfig['NODE_ENV'],\r\n    APP_VERSION: requiredEnvVars.VITE_APP_VERSION || '1.0.0',\r\n    SENTRY_DSN: import.meta.env['VITE_SENTRY_DSN'],\r\n    ANALYTICS_ID: import.meta.env['VITE_ANALYTICS_ID'],\r\n  };\r\n\r\n  // Log configuration in development\r\n  if (config.NODE_ENV === 'development') {\r\n    console.log('Environment Configuration:', {\r\n      API_BASE_URL: config.API_BASE_URL,\r\n      NODE_ENV: config.NODE_ENV,\r\n      APP_VERSION: config.APP_VERSION,\r\n      SENTRY_ENABLED: !!config.SENTRY_DSN,\r\n      ANALYTICS_ENABLED: !!config.ANALYTICS_ID,\r\n    });\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nexport const env = validateEnvironment();\r\n\r\n// Environment-specific configurations\r\nexport const isDevelopment = env.NODE_ENV === 'development';\r\nexport const isProduction = env.NODE_ENV === 'production';\r\nexport const isTest = env.NODE_ENV === 'test';\r\n\r\n// Feature flags based on environment\r\nexport const features = {\r\n  enableAnalytics: isProduction && !!env.ANALYTICS_ID,\r\n  enableErrorReporting: isProduction && !!env.SENTRY_DSN,\r\n  enableMockData: isDevelopment || isTest,\r\n  enableDebugLogs: isDevelopment,\r\n} as const;\r\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\r\nimport { env } from '../lib/env';\r\n\r\n// API Response interface\r\ninterface ApiResponse<T = any> {\r\n  success: boolean;\r\n  message: string;\r\n  data?: T;\r\n  error?: string;\r\n  code?: string;\r\n}\r\n\r\n// API Error interface\r\ninterface ApiError {\r\n  message: string;\r\n  code?: string;\r\n  status?: number;\r\n}\r\n\r\n// Create axios instance\r\nconst createApiClient = (): AxiosInstance => {\r\n  const client = axios.create({\r\n    baseURL: '/api',\r\n    timeout: 10000,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\n  // Request interceptor to add auth token\r\n  client.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem('accessToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // Response interceptor to handle token refresh\r\n  client.interceptors.response.use(\r\n    (response) => response,\r\n    async (error) => {\r\n      const originalRequest = error.config;\r\n\r\n      if (error.response?.status === 401 && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n\r\n        try {\r\n          const refreshToken = localStorage.getItem('refreshToken');\r\n          if (refreshToken) {\r\n            const response = await axios.post('/api/auth/refresh', {\r\n              refreshToken\r\n            });\r\n\r\n            const { accessToken, refreshToken: newRefreshToken } = response.data.data;\r\n            localStorage.setItem('accessToken', accessToken);\r\n            localStorage.setItem('refreshToken', newRefreshToken);\r\n\r\n            // Retry original request\r\n            originalRequest.headers.Authorization = `Bearer ${accessToken}`;\r\n            return client(originalRequest);\r\n          }\r\n        } catch (refreshError) {\r\n          // Refresh failed, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          localStorage.removeItem('refreshToken');\r\n          window.location.href = '/login';\r\n        }\r\n      }\r\n\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  return client;\r\n};\r\n\r\n// API client instance\r\nconst apiClient = createApiClient();\r\n\r\n// Generic API methods\r\nexport const api = {\r\n  // GET request\r\n  get: async <T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.get(url, config);\r\n    return response.data;\r\n  },\r\n\r\n  // POST request\r\n  post: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // PUT request\r\n  put: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.put(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // PATCH request\r\n  patch: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.patch(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // DELETE request\r\n  delete: async <T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.delete(url, config);\r\n    return response.data;\r\n  },\r\n\r\n  // Upload file\r\n  upload: async <T = any>(url: string, file: File, onProgress?: (progress: number) => void): Promise<ApiResponse<T>> => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (onProgress && progressEvent.total) {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          onProgress(progress);\r\n        }\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  },\r\n\r\n  // Upload multiple files\r\n  uploadMultiple: async <T = any>(url: string, files: File[], onProgress?: (progress: number) => void): Promise<ApiResponse<T>> => {\r\n    const formData = new FormData();\r\n    files.forEach((file, index) => {\r\n      formData.append(`file${index}`, file);\r\n    });\r\n\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (onProgress && progressEvent.total) {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          onProgress(progress);\r\n        }\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Authentication API\r\nexport const authApi = {\r\n  // Register user\r\n  register: async (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }) => {\r\n    return api.post('/auth/register', userData);\r\n  },\r\n\r\n  // Login user\r\n  login: async (credentials: { email: string; password: string }) => {\r\n    return api.post('/auth/login', credentials);\r\n  },\r\n\r\n  // Logout user\r\n  logout: async (refreshToken: string) => {\r\n    return api.post('/auth/logout', { refreshToken });\r\n  },\r\n\r\n  // Refresh token\r\n  refreshToken: async (refreshToken: string) => {\r\n    return api.post('/auth/refresh', { refreshToken });\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: async () => {\r\n    return api.get('/auth/me');\r\n  },\r\n\r\n  // Verify email\r\n  verifyEmail: async (token: string) => {\r\n    return api.post('/auth/verify-email', { token });\r\n  },\r\n\r\n  // Forgot password\r\n  forgotPassword: async (email: string) => {\r\n    return api.post('/auth/forgot-password', { email });\r\n  },\r\n\r\n  // Reset password\r\n  resetPassword: async (token: string, password: string) => {\r\n    return api.post('/auth/reset-password', { token, password });\r\n  },\r\n\r\n  // Change password\r\n  changePassword: async (currentPassword: string, newPassword: string) => {\r\n    return api.put('/auth/password', { currentPassword, newPassword });\r\n  },\r\n};\r\n\r\n// User API\r\nexport const userApi = {\r\n  // Get user profile\r\n  getProfile: async () => {\r\n    return api.get('/users/profile');\r\n  },\r\n\r\n  // Update user profile\r\n  updateProfile: async (profileData: {\r\n    name?: string;\r\n    phone?: string;\r\n    avatar?: string;\r\n  }) => {\r\n    return api.put('/users/profile', profileData);\r\n  },\r\n\r\n  // Upload avatar\r\n  uploadAvatar: async (file: File, onProgress?: (progress: number) => void) => {\r\n    return api.upload('/users/avatar', file, onProgress);\r\n  },\r\n\r\n  // Get user stats\r\n  getStats: async () => {\r\n    return api.get('/users/stats');\r\n  },\r\n\r\n  // Get user activity\r\n  getActivity: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/users/activity?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Delete account\r\n  deleteAccount: async (password: string) => {\r\n    return api.delete('/users/account', { data: { password } });\r\n  },\r\n};\r\n\r\n// Service Request API\r\nexport const serviceRequestApi = {\r\n  // Create instant request\r\n  createInstantRequest: async (requestData: {\r\n    category: string;\r\n    description: string;\r\n    price: number;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    broadcastRadius?: number;\r\n  }) => {\r\n    return api.post('/service-requests/instant', requestData);\r\n  },\r\n\r\n  // Create scheduled request\r\n  createScheduledRequest: async (requestData: {\r\n    category: string;\r\n    description: string;\r\n    price: number;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    scheduledDate: string;\r\n    scheduledTime: string;\r\n  }) => {\r\n    return api.post('/service-requests/scheduled', requestData);\r\n  },\r\n\r\n  // Get user requests\r\n  getUserRequests: async (page: number = 1, limit: number = 10, status?: string) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(status && { status })\r\n    });\r\n    return api.get(`/service-requests/user?${params}`);\r\n  },\r\n\r\n  // Get seller requests\r\n  getSellerRequests: async (page: number = 1, limit: number = 10, status?: string) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(status && { status })\r\n    });\r\n    return api.get(`/service-requests/seller?${params}`);\r\n  },\r\n\r\n  // Get request by ID\r\n  getRequestById: async (id: string) => {\r\n    return api.get(`/service-requests/${id}`);\r\n  },\r\n\r\n  // Boost price\r\n  boostPrice: async (id: string, newPrice: number) => {\r\n    return api.put(`/service-requests/${id}/boost`, { newPrice });\r\n  },\r\n\r\n  // Accept request\r\n  acceptRequest: async (id: string) => {\r\n    return api.put(`/service-requests/${id}/accept`);\r\n  },\r\n\r\n  // Update status\r\n  updateStatus: async (id: string, status: string, reason?: string) => {\r\n    return api.put(`/service-requests/${id}/status`, { status, reason });\r\n  },\r\n\r\n  // Delete request\r\n  deleteRequest: async (id: string) => {\r\n    return api.delete(`/service-requests/${id}`);\r\n  },\r\n\r\n  // Get nearby requests\r\n  getNearbyRequests: async (lat: number, lng: number, radius: number = 50, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      lat: lat.toString(),\r\n      lng: lng.toString(),\r\n      radius: radius.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/service-requests/nearby?${params}`);\r\n  },\r\n\r\n  // Get request stats\r\n  getStats: async () => {\r\n    return api.get('/service-requests/stats');\r\n  },\r\n};\r\n\r\n// Seller API\r\nexport const sellerApi = {\r\n  // Get all sellers\r\n  getSellers: async (page: number = 1, limit: number = 10, filters?: {\r\n    category?: string;\r\n    rating?: number;\r\n    availability?: boolean;\r\n  }) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(filters?.category && { category: filters.category }),\r\n      ...(filters?.rating && { rating: filters.rating.toString() }),\r\n      ...(filters?.availability !== undefined && { availability: filters.availability.toString() })\r\n    });\r\n    return api.get(`/sellers?${params}`);\r\n  },\r\n\r\n  // Get seller by ID\r\n  getSellerById: async (id: string) => {\r\n    return api.get(`/sellers/${id}`);\r\n  },\r\n\r\n  // Get seller profile\r\n  getSellerProfile: async () => {\r\n    return api.get('/sellers/profile/me');\r\n  },\r\n\r\n  // Create seller profile\r\n  createProfile: async (profileData: {\r\n    bio: string;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    serviceCategories: string[];\r\n    yearsOfExperience: number;\r\n    certifications?: string[];\r\n    profilePicture?: string;\r\n    portfolio?: string[];\r\n  }) => {\r\n    return api.post('/sellers/profile', profileData);\r\n  },\r\n\r\n  // Update seller profile\r\n  updateProfile: async (profileData: {\r\n    bio?: string;\r\n    location?: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    serviceCategories?: string[];\r\n    yearsOfExperience?: number;\r\n    certifications?: string[];\r\n    availability?: boolean;\r\n    profilePicture?: string;\r\n    portfolio?: string[];\r\n  }) => {\r\n    return api.put('/sellers/profile', profileData);\r\n  },\r\n\r\n  // Get sellers by category\r\n  getSellersByCategory: async (category: string, page: number = 1, limit: number = 10) => {\r\n    return api.get(`/sellers/category/${category}?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Get nearby sellers\r\n  getNearbySellers: async (lat: number, lng: number, radius: number = 50, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      lat: lat.toString(),\r\n      lng: lng.toString(),\r\n      radius: radius.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/sellers/nearby?${params}`);\r\n  },\r\n\r\n  // Upload portfolio\r\n  uploadPortfolio: async (files: File[], onProgress?: (progress: number) => void) => {\r\n    return api.uploadMultiple('/sellers/portfolio', files, onProgress);\r\n  },\r\n\r\n  // Get top-rated sellers\r\n  getTopRatedSellers: async (limit: number = 10, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      limit: limit.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/sellers/top-rated?${params}`);\r\n  },\r\n\r\n  // Update availability\r\n  updateAvailability: async (availability: boolean) => {\r\n    return api.put('/sellers/availability', { availability });\r\n  },\r\n\r\n  // Get seller stats\r\n  getStats: async () => {\r\n    return api.get('/sellers/stats');\r\n  },\r\n};\r\n\r\n// Admin API\r\nexport const adminApi = {\r\n  // Get all users\r\n  getUsers: async (page: number = 1, limit: number = 10, filters?: {\r\n    role?: string;\r\n    status?: string;\r\n    search?: string;\r\n  }) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(filters?.role && { role: filters.role }),\r\n      ...(filters?.status && { status: filters.status }),\r\n      ...(filters?.search && { search: filters.search })\r\n    });\r\n    return api.get(`/admin/users?${params}`);\r\n  },\r\n\r\n  // Block user\r\n  blockUser: async (id: string, reason?: string) => {\r\n    return api.put(`/admin/users/${id}/block`, { reason });\r\n  },\r\n\r\n  // Unblock user\r\n  unblockUser: async (id: string) => {\r\n    return api.put(`/admin/users/${id}/unblock`);\r\n  },\r\n\r\n  // Update user role\r\n  updateUserRole: async (id: string, role: string) => {\r\n    return api.put(`/admin/users/${id}/role`, { role });\r\n  },\r\n\r\n  // Get pending sellers\r\n  getPendingSellers: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/admin/sellers/pending?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Approve seller\r\n  approveSeller: async (id: string) => {\r\n    return api.put(`/admin/sellers/${id}/approve`);\r\n  },\r\n\r\n  // Reject seller\r\n  rejectSeller: async (id: string, reason: string) => {\r\n    return api.put(`/admin/sellers/${id}/reject`, { reason });\r\n  },\r\n\r\n  // Get analytics\r\n  getAnalytics: async (period: string = '30d') => {\r\n    return api.get(`/admin/analytics?period=${period}`);\r\n  },\r\n\r\n  // Get audit logs\r\n  getAuditLogs: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/admin/audit-logs?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Get system health\r\n  getSystemHealth: async () => {\r\n    return api.get('/admin/system-health');\r\n  },\r\n};\r\n\r\n// Error handling utility\r\nexport const handleApiError = (error: any): ApiError => {\r\n  if (error.response?.data) {\r\n    return {\r\n      message: error.response.data.message || 'An error occurred',\r\n      code: error.response.data.code,\r\n      status: error.response.status\r\n    };\r\n  }\r\n  \r\n  return {\r\n    message: error.message || 'Network error',\r\n    status: 0\r\n  };\r\n};\r\n\r\nexport default api;","import React, { createContext, useContext, useReducer, useEffect, type ReactNode } from 'react';\r\nimport { authApi, handleApiError } from '../api/client';\r\n\r\n// Types\r\ninterface User {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'buyer' | 'seller' | 'admin';\r\n  status: 'active' | 'blocked' | 'pending';\r\n  emailVerified: boolean;\r\n  phone?: string;\r\n  avatar?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\ninterface AuthContextType extends AuthState {\r\n  login: (email: string, password: string) => Promise<void>;\r\n  register: (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n  refreshAuth: () => Promise<void>;\r\n  clearError: () => void;\r\n  updateUser: (userData: Partial<User>) => void;\r\n  role?: 'buyer' | 'seller' | 'admin';\r\n  loginAs?: (role: 'buyer' | 'seller' | 'admin') => void;\r\n}\r\n\r\n// Initial state\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  accessToken: localStorage.getItem('accessToken'),\r\n  refreshToken: localStorage.getItem('refreshToken'),\r\n  isAuthenticated: false,\r\n  isLoading: true,\r\n  error: null,\r\n};\r\n\r\n// Action types\r\ntype AuthAction =\r\n  | { type: 'AUTH_START' }\r\n  | { type: 'AUTH_SUCCESS'; payload: { user: User; accessToken: string; refreshToken: string } }\r\n  | { type: 'AUTH_FAILURE'; payload: string }\r\n  | { type: 'AUTH_LOGOUT' }\r\n  | { type: 'AUTH_CLEAR_ERROR' }\r\n  | { type: 'AUTH_UPDATE_USER'; payload: Partial<User> }\r\n  | { type: 'AUTH_REFRESH_SUCCESS'; payload: { accessToken: string; refreshToken: string } };\r\n\r\n// Reducer\r\nconst authReducer = (state: AuthState, action: AuthAction): AuthState => {\r\n  switch (action.type) {\r\n    case 'AUTH_START':\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        accessToken: action.payload.accessToken,\r\n        refreshToken: action.payload.refreshToken,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_FAILURE':\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case 'AUTH_LOGOUT':\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_CLEAR_ERROR':\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        user: state.user ? { ...state.user, ...action.payload } : null,\r\n      };\r\n\r\n    case 'AUTH_REFRESH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        accessToken: action.payload.accessToken,\r\n        refreshToken: action.payload.refreshToken,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Context\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n// Provider component\r\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  // Initialize auth state on mount\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      const accessToken = localStorage.getItem('accessToken');\r\n      const refreshToken = localStorage.getItem('refreshToken');\r\n\r\n      if (accessToken && refreshToken) {\r\n        try {\r\n          dispatch({ type: 'AUTH_START' });\r\n          const response = await authApi.getCurrentUser();\r\n          \r\n          if (response.success && response.data) {\r\n            dispatch({\r\n              type: 'AUTH_SUCCESS',\r\n              payload: {\r\n                user: response.data,\r\n                accessToken,\r\n                refreshToken,\r\n              },\r\n            });\r\n          } else {\r\n            throw new Error('Failed to get user data');\r\n          }\r\n        } catch (error) {\r\n          console.error('Auth initialization failed:', error);\r\n          // Try to refresh token\r\n          try {\r\n            const refreshResponse = await authApi.refreshToken(refreshToken);\r\n            if (refreshResponse.success && refreshResponse.data) {\r\n              const { accessToken: newAccessToken, refreshToken: newRefreshToken } = refreshResponse.data;\r\n              localStorage.setItem('accessToken', newAccessToken);\r\n              localStorage.setItem('refreshToken', newRefreshToken);\r\n              \r\n              // Get user data with new token\r\n              const userResponse = await authApi.getCurrentUser();\r\n              if (userResponse.success && userResponse.data) {\r\n                dispatch({\r\n                  type: 'AUTH_SUCCESS',\r\n                  payload: {\r\n                    user: userResponse.data,\r\n                    accessToken: newAccessToken,\r\n                    refreshToken: newRefreshToken,\r\n                  },\r\n                });\r\n              } else {\r\n                throw new Error('Failed to get user data after refresh');\r\n              }\r\n            } else {\r\n              throw new Error('Token refresh failed');\r\n            }\r\n          } catch (refreshError) {\r\n            console.error('Token refresh failed:', refreshError);\r\n            localStorage.removeItem('accessToken');\r\n            localStorage.removeItem('refreshToken');\r\n            dispatch({ type: 'AUTH_FAILURE', payload: 'Session expired' });\r\n          }\r\n        }\r\n      } else {\r\n        dispatch({ type: 'AUTH_FAILURE', payload: 'No tokens found' });\r\n      }\r\n    };\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Login function\r\n  const login = async (email: string, password: string): Promise<void> => {\r\n    try {\r\n      dispatch({ type: 'AUTH_START' });\r\n      \r\n      const response = await authApi.login({ email, password });\r\n      \r\n      if (response.success && response.data) {\r\n        const { user, accessToken, refreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', refreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_SUCCESS',\r\n          payload: { user, accessToken, refreshToken },\r\n        });\r\n      } else {\r\n        throw new Error(response.message || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      const apiError = handleApiError(error);\r\n      dispatch({ type: 'AUTH_FAILURE', payload: apiError.message });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Register function\r\n  const register = async (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }): Promise<void> => {\r\n    try {\r\n      dispatch({ type: 'AUTH_START' });\r\n      \r\n      const response = await authApi.register(userData);\r\n      \r\n      if (response.success && response.data) {\r\n        const { user, accessToken, refreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', refreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_SUCCESS',\r\n          payload: { user, accessToken, refreshToken },\r\n        });\r\n      } else {\r\n        throw new Error(response.message || 'Registration failed');\r\n      }\r\n    } catch (error) {\r\n      const apiError = handleApiError(error);\r\n      dispatch({ type: 'AUTH_FAILURE', payload: apiError.message });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Logout function\r\n  const logout = async (): Promise<void> => {\r\n    try {\r\n      const refreshToken = state.refreshToken;\r\n      if (refreshToken) {\r\n        await authApi.logout(refreshToken);\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout API call failed:', error);\r\n    } finally {\r\n      localStorage.removeItem('accessToken');\r\n      localStorage.removeItem('refreshToken');\r\n      dispatch({ type: 'AUTH_LOGOUT' });\r\n    }\r\n  };\r\n\r\n  // Refresh auth function\r\n  const refreshAuth = async (): Promise<void> => {\r\n    try {\r\n      const refreshToken = state.refreshToken;\r\n      if (!refreshToken) {\r\n        throw new Error('No refresh token available');\r\n      }\r\n\r\n      const response = await authApi.refreshToken(refreshToken);\r\n      \r\n      if (response.success && response.data) {\r\n        const { accessToken, refreshToken: newRefreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', newRefreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_REFRESH_SUCCESS',\r\n          payload: { accessToken, refreshToken: newRefreshToken },\r\n        });\r\n      } else {\r\n        throw new Error('Token refresh failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n      localStorage.removeItem('accessToken');\r\n      localStorage.removeItem('refreshToken');\r\n      dispatch({ type: 'AUTH_FAILURE', payload: 'Session expired' });\r\n    }\r\n  };\r\n\r\n  // Clear error function\r\n  const clearError = (): void => {\r\n    dispatch({ type: 'AUTH_CLEAR_ERROR' });\r\n  };\r\n\r\n  // Update user function\r\n  const updateUser = (userData: Partial<User>): void => {\r\n    dispatch({ type: 'AUTH_UPDATE_USER', payload: userData });\r\n  };\r\n\r\n  const contextValue: AuthContextType = {\r\n    ...state,\r\n    login,\r\n    register,\r\n    logout,\r\n    refreshAuth,\r\n    clearError,\r\n    updateUser,\r\n    role: state.user?.role,\r\n    loginAs: (role: 'buyer' | 'seller' | 'admin') => {\r\n      // Mock implementation for development\r\n      console.log('Login as role:', role);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// Hook to use auth context\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Higher-order component for protected routes\r\nexport const withAuth = <P extends object>(\r\n  Component: React.ComponentType<P>\r\n): React.FC<P> => {\r\n  return (props: P) => {\r\n    const { isAuthenticated, isLoading } = useAuth();\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n      window.location.href = '/login';\r\n      return null;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n};\r\n\r\nexport default AuthProvider;","import { useEffect, useRef, useState, useCallback } from 'react';\r\n\r\n/**\r\n * Custom hook that handles click outside functionality\r\n * @param callback Function to call when clicking outside\r\n * @param enabled Whether the hook is enabled (default: true)\r\n */\r\nexport const useClickOutside = <T extends HTMLElement = HTMLElement>(\r\n  callback: () => void,\r\n  enabled: boolean = true\r\n) => {\r\n  const ref = useRef<T>(null);\r\n\r\n  useEffect(() => {\r\n    if (!enabled) return;\r\n\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    // Add event listener\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [callback, enabled]);\r\n\r\n  return ref;\r\n};\r\n\r\n/**\r\n * Custom hook for dropdown functionality with click outside\r\n * @param initialState Initial open state\r\n * @returns Object with isOpen state, setIsOpen function, and ref for the dropdown container\r\n */\r\nexport const useDropdown = (initialState: boolean = false) => {\r\n  const [isOpen, setIsOpen] = useState(initialState);\r\n  \r\n  const closeDropdown = useCallback(() => {\r\n    setIsOpen(false);\r\n  }, []);\r\n\r\n  const ref = useClickOutside<HTMLDivElement>(closeDropdown, isOpen);\r\n\r\n  const toggleDropdown = useCallback(() => {\r\n    setIsOpen(prev => !prev);\r\n  }, []);\r\n\r\n  const openDropdown = useCallback(() => {\r\n    setIsOpen(true);\r\n  }, []);\r\n\r\n  const closeDropdownManual = useCallback(() => {\r\n    setIsOpen(false);\r\n  }, []);\r\n\r\n  return {\r\n    isOpen,\r\n    setIsOpen,\r\n    ref,\r\n    toggleDropdown,\r\n    openDropdown,\r\n    closeDropdown: closeDropdownManual,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { useAuth } from '../lib/auth';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useDropdown } from '../hooks/useClickOutside';\r\n\r\nexport const UserRoleToggle: React.FC = () => {\r\n  const { role, loginAs } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { isOpen, ref, toggleDropdown, closeDropdown } = useDropdown();\r\n\r\n  const roles = [\r\n    { \r\n      value: 'buyer', \r\n      label: 'Buyer', \r\n      icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\r\n        </svg>\r\n      ),\r\n      description: 'Find services' \r\n    },\r\n    { \r\n      value: 'seller', \r\n      label: 'Seller', \r\n      icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n        </svg>\r\n      ),\r\n      description: 'Offer services' \r\n    },\r\n    { \r\n      value: 'admin', \r\n      label: 'Admin', \r\n      icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n        </svg>\r\n      ),\r\n      description: 'Manage platform' \r\n    }\r\n  ];\r\n\r\n  const currentRole = roles.find(r => r.value === role);\r\n\r\n  const handleRoleChange = (newRole: 'buyer' | 'seller' | 'admin') => {\r\n    loginAs(newRole);\r\n    closeDropdown();\r\n    \r\n    // Navigate to the appropriate dashboard based on the new role\r\n    const currentPath = location.pathname;\r\n    \r\n    // If we're currently on a dashboard page, navigate to the new role's dashboard\r\n    if (currentPath === '/user-dashboard' || currentPath === '/seller-dashboard' || currentPath === '/admin' || currentPath === '/dashboard') {\r\n      switch (newRole) {\r\n        case 'buyer':\r\n          navigate('/user-dashboard');\r\n          break;\r\n        case 'seller':\r\n          navigate('/seller-dashboard');\r\n          break;\r\n        case 'admin':\r\n          navigate('/admin');\r\n          break;\r\n      }\r\n    }\r\n    // If we're on other pages, we don't need to navigate - the header will show the correct dashboard link\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={ref}>\r\n      <button\r\n        onClick={toggleDropdown}\r\n        className=\"flex items-center space-x-2 px-3 py-2 rounded-lg bg-primary-50 hover:bg-primary-100 dark:bg-primary-900/20 dark:hover:bg-primary-900/30 transition-colors\"\r\n        aria-label=\"Switch user role\"\r\n      >\r\n        <span className=\"text-primary-700 dark:text-primary-300\">{currentRole?.icon}</span>\r\n        <span className=\"text-sm font-medium text-primary-700 dark:text-primary-300\">\r\n          {currentRole?.label}\r\n        </span>\r\n        <svg \r\n          className={`w-4 h-4 text-primary-600 transition-transform ${isOpen ? 'rotate-180' : ''}`}\r\n          fill=\"none\" \r\n          stroke=\"currentColor\" \r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-50\">\r\n          <div className=\"py-2\">\r\n            {roles.map((roleOption) => (\r\n              <button\r\n                key={roleOption.value}\r\n                onClick={() => handleRoleChange(roleOption.value as 'buyer' | 'seller' | 'admin')}\r\n                className={`w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${\r\n                  role === roleOption.value ? 'bg-primary-50 dark:bg-primary-900/20' : ''\r\n                }`}\r\n              >\r\n                <span className=\"text-primary-600 dark:text-primary-400\">{roleOption.icon}</span>\r\n                <div>\r\n                  <div className=\"text-sm font-medium text-slate-900 dark:text-slate-100\">\r\n                    {roleOption.label}\r\n                  </div>\r\n                  <div className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n                    {roleOption.description}\r\n                  </div>\r\n                </div>\r\n                {role === roleOption.value && (\r\n                  <svg className=\"w-4 h-4 text-primary-600 ml-auto\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const ThemeToggle: React.FC = () => {\r\n  const [isDark, setIsDark] = React.useState<boolean>(() => {\r\n    if (typeof window === 'undefined') return false;\r\n    return document.documentElement.classList.contains('dark');\r\n  });\r\n\r\n  const toggle = React.useCallback(() => {\r\n    const root = document.documentElement;\r\n    const next = !isDark;\r\n    root.classList.toggle('dark', next);\r\n    setIsDark(next);\r\n  }, [isDark]);\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={toggle}\r\n      className=\"inline-flex items-center rounded-md border border-slate-300 px-3 py-1.5 text-sm hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800\"\r\n    >\r\n      {isDark ? 'Light' : 'Dark'} Mode\r\n    </button>\r\n  );\r\n};\r\n\r\n\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../lib/auth';\r\n\r\nexport const UserProfile: React.FC = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const { role, logout } = useAuth();\r\n\r\n  // Get user data from localStorage\r\n  const userData = React.useMemo(() => {\r\n    const stored = localStorage.getItem('userData');\r\n    if (stored) {\r\n      try {\r\n        return JSON.parse(stored);\r\n      } catch {\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  }, []);\r\n\r\n  const userName = userData?.name || 'User';\r\n  const userEmail = userData?.email || '';\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Get initials for avatar\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      .split(' ')\r\n      .map(word => word[0])\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  const dashboardLink = role === 'seller' ? '/seller-dashboard' : role === 'admin' ? '/admin' : '/user-dashboard';\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Profile Button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n        aria-expanded={isOpen}\r\n        aria-haspopup=\"true\"\r\n      >\r\n        {/* Avatar */}\r\n        <div className=\"w-8 h-8 rounded-full bg-primary-600 dark:bg-primary-500 flex items-center justify-center text-white text-sm font-semibold\">\r\n          {getInitials(userName)}\r\n        </div>\r\n        \r\n        {/* User Name (hidden on mobile) */}\r\n        <span className=\"hidden md:block text-sm font-medium text-gray-900 dark:text-white\">\r\n          {userName}\r\n        </span>\r\n\r\n        {/* Dropdown Arrow */}\r\n        <svg\r\n          className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n\r\n      {/* Dropdown Menu */}\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-64 rounded-lg bg-white dark:bg-slate-800 shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50\">\r\n          {/* User Info Header */}\r\n          <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-full bg-primary-600 dark:bg-primary-500 flex items-center justify-center text-white font-semibold\">\r\n                {getInitials(userName)}\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm font-semibold text-gray-900 dark:text-white truncate\">\r\n                  {userName}\r\n                </p>\r\n                {userEmail && (\r\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\r\n                    {userEmail}\r\n                  </p>\r\n                )}\r\n                <p className=\"text-xs text-primary-600 dark:text-primary-400 capitalize mt-0.5\">\r\n                  {role}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Menu Items */}\r\n          <div className=\"py-2\">\r\n            <Link\r\n              to={dashboardLink}\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n              </svg>\r\n              Dashboard\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/profile\"\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n              </svg>\r\n              Profile\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/request-service\"\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n              </svg>\r\n              Request Service\r\n            </Link>\r\n\r\n            <Link\r\n              to=\"/services\"\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n              </svg>\r\n              Browse Services\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Logout Section */}\r\n          <div className=\"border-t border-gray-200 dark:border-gray-700 pt-2\">\r\n            <button\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                logout();\r\n              }}\r\n              className=\"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n              </svg>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useAuth } from '../lib/auth';\nimport { UserRoleToggle } from './UserRoleToggle';\nimport { ThemeToggle } from './ThemeToggle';\nimport { UserProfile } from './UserProfile';\n\nexport const Header: React.FC = () => {\n  const [open, setOpen] = React.useState<boolean>(false);\n  const { isAuthenticated, role, logout } = useAuth();\n  \n  return (\n    <header className=\"border-b border-slate-200/60 dark:border-slate-700/60 bg-white dark:bg-slate-900 sticky top-0 z-40\">\n      <a href=\"#main\" className=\"sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 rounded bg-primary-600 px-3 py-1.5 text-white\">Skip to content</a>\n      <div className=\"mx-auto max-w-6xl px-4 py-4 flex items-center justify-between\">\n        <NavLink to=\"/\" className=\"text-xl font-semibold tracking-wide text-primary-600 dark:text-primary-400\">Services Hub</NavLink>\n        <button\n          aria-label=\"Toggle menu\"\n          aria-expanded={open}\n          onClick={() => setOpen(v => !v)}\n          className=\"md:hidden inline-flex items-center rounded-md border px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-800\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </button>\n        <nav className=\"hidden md:flex gap-4 items-center\">\n          <NavLink to=\"/\" className={({ isActive }) => `transition-colors duration-200 hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded ${isActive ? 'text-primary-600 font-medium' : ''}`}>Home</NavLink>\n          {isAuthenticated ? (\n            <>\n              <UserRoleToggle />\n              {role === 'buyer' && <NavLink to=\"/user-dashboard\" className={({ isActive }) => `transition-colors duration-200 hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded ${isActive ? 'text-primary-600 font-medium' : ''}`}>Dashboard</NavLink>}\n              {role === 'seller' && <NavLink to=\"/seller-dashboard\" className={({ isActive }) => `transition-colors duration-200 hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded ${isActive ? 'text-primary-600 font-medium' : ''}`}>Dashboard</NavLink>}\n              {role === 'admin' && <NavLink to=\"/admin\" className={({ isActive }) => `transition-colors duration-200 hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded ${isActive ? 'text-primary-600 font-medium' : ''}`}>Admin</NavLink>}\n              <ThemeToggle />\n              <UserProfile />\n            </>\n          ) : (\n            <>\n              <NavLink to=\"/login\" className={({ isActive }) => `transition-colors duration-200 hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded ${isActive ? 'text-primary-600 font-medium' : ''}`}>Login</NavLink>\n              <ThemeToggle />\n            </>\n          )}\n        </nav>\n      </div>\n      {open ? (\n        <div className=\"md:hidden border-t border-slate-200/60 dark:border-slate-700/60 bg-white dark:bg-slate-900\">\n          <nav className=\"mx-auto max-w-6xl px-4 py-3 flex flex-col gap-2\">\n            <NavLink onClick={() => setOpen(false)} to=\"/\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Home</NavLink>\n            {isAuthenticated ? (\n              <>\n                <div className=\"px-2 py-1\">\n                  <UserRoleToggle />\n                </div>\n                {role === 'buyer' && <NavLink onClick={() => setOpen(false)} to=\"/user-dashboard\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Dashboard</NavLink>}\n                {role === 'seller' && <NavLink onClick={() => setOpen(false)} to=\"/seller-dashboard\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Dashboard</NavLink>}\n                {role === 'admin' && <NavLink onClick={() => setOpen(false)} to=\"/admin\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Admin</NavLink>}\n                <NavLink onClick={() => setOpen(false)} to=\"/request-service\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Request Service</NavLink>\n                <div className=\"px-2 py-1\">\n                  <ThemeToggle />\n                </div>\n                <button onClick={() => { logout(); setOpen(false); }} className=\"rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 text-left text-red-600 dark:text-red-400\">Logout</button>\n              </>\n            ) : (\n              <>\n                <NavLink onClick={() => setOpen(false)} to=\"/login\" className={({ isActive }) => `rounded px-2 py-1 transition-colors duration-200 hover:bg-slate-50 dark:hover:bg-slate-800 ${isActive ? 'text-primary-600 font-medium' : ''}`}>Login</NavLink>\n                <div className=\"px-2 py-1\">\n                  <ThemeToggle />\n                </div>\n              </>\n            )}\n          </nav>\n        </div>\n      ) : null}\n    </header>\n  );\n};\n\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className=\"bg-gray-900 text-white\">\n      <div className=\"mx-auto max-w-6xl px-4 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n          {/* Company Info */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-xl font-bold text-primary-400\">Services Hub</h3>\n            <p className=\"text-gray-300 text-sm leading-relaxed\">\n              Connecting skilled professionals with customers who need quality services. \n              Your trusted platform for all home and business service needs.\n            </p>\n            <div className=\"flex space-x-4\">\n              <a href=\"#\" className=\"text-gray-400 hover:text-primary-400 transition-colors\">\n                <span className=\"sr-only\">Facebook</span>\n                <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/>\n                </svg>\n              </a>\n              <a href=\"#\" className=\"text-gray-400 hover:text-primary-400 transition-colors\">\n                <span className=\"sr-only\">Instagram</span>\n                <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987s11.987-5.367 11.987-11.987C24.014 5.367 18.647.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.83-9.75c-.49 0-.875-.385-.875-.875s.385-.875.875-.875.875.385.875.875-.385.875-.875.875zm-1.297 9.75c-1.297 0-2.448-.49-3.323-1.297-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297z\"/>\n                </svg>\n              </a>\n              <a href=\"#\" className=\"text-gray-400 hover:text-primary-400 transition-colors\">\n                <span className=\"sr-only\">LinkedIn</span>\n                <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\n                </svg>\n              </a>\n            </div>\n          </div>\n\n          {/* Quick Links */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-lg font-semibold text-white\">Quick Links</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link to=\"/\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/about\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  About Us\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/services\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Services\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/how-it-works\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  How It Works\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/pricing\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Pricing\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Support */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-lg font-semibold text-white\">Support</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link to=\"/help\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Help Center\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/contact\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Contact Us\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/faq\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  FAQ\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/terms\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Terms of Service\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/privacy\" className=\"text-gray-300 hover:text-primary-400 transition-colors text-sm\">\n                  Privacy Policy\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Newsletter */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-lg font-semibold text-white\">Stay Updated</h4>\n            <p className=\"text-gray-300 text-sm\">\n              Subscribe to our newsletter for the latest updates and offers.\n            </p>\n            <form className=\"space-y-3\">\n              <input\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n              />\n              <button\n                type=\"submit\"\n                className=\"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md transition-colors\"\n              >\n                Subscribe\n              </button>\n            </form>\n          </div>\n        </div>\n\n        {/* Bottom Bar */}\n        <div className=\"mt-8 pt-8 border-t border-gray-800\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center\">\n            <p className=\"text-gray-400 text-sm\">\n              © {new Date().getFullYear()} Services Hub. All rights reserved.\n            </p>\n            <div className=\"flex space-x-6 mt-4 md:mt-0\">\n              <Link to=\"/terms\" className=\"text-gray-400 hover:text-primary-400 transition-colors text-sm\">\n                Terms\n              </Link>\n              <Link to=\"/privacy\" className=\"text-gray-400 hover:text-primary-400 transition-colors text-sm\">\n                Privacy\n              </Link>\n              <Link to=\"/cookies\" className=\"text-gray-400 hover:text-primary-400 transition-colors text-sm\">\n                Cookies\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\n\n","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nexport const Breadcrumbs: React.FC = () => {\r\n  const location = useLocation();\r\n  const segments = location.pathname.split('/').filter(Boolean);\r\n  const items = [\r\n    { name: 'Home', to: '/' },\r\n    ...segments.map((seg, idx) => ({\r\n      name: decodeURIComponent(seg.replace(/-/g, ' ')).replace(/\\b\\w/g, c => c.toUpperCase()),\r\n      to: '/' + segments.slice(0, idx + 1).join('/'),\r\n    })),\r\n  ];\r\n\r\n  return (\r\n    <nav className=\"text-sm\" aria-label=\"Breadcrumb\">\r\n      <ol className=\"flex flex-wrap items-center gap-1 text-slate-600 dark:text-slate-300\">\r\n        {items.map((item, i) => {\r\n          const isLast = i === items.length - 1;\r\n          return (\r\n            <li key={item.to} className=\"flex items-center gap-1\">\r\n              {i > 0 ? <span aria-hidden=\"true\">/</span> : null}\r\n              {isLast ? (\r\n                <span aria-current=\"page\" className=\"font-medium text-slate-900 dark:text-slate-100\">{item.name}</span>\r\n              ) : (\r\n                <Link to={item.to} className=\"hover:text-primary-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 rounded\">\r\n                  {item.name}\r\n                </Link>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ol>\r\n    </nav>\r\n  );\r\n};\r\n\r\n\r\n","import React from 'react';\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: React.ErrorInfo;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ComponentType<{ error?: Error; retry: () => void }>;\r\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\r\n}\r\n\r\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\r\n    return {\r\n      hasError: true,\r\n      error,\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n\r\n    // Call custom error handler if provided\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // Log error for monitoring (in production, this would go to Sentry, etc.)\r\n    if (process.env.NODE_ENV === 'production') {\r\n      // In production, send to error monitoring service\r\n      console.error('Error caught by boundary:', error, errorInfo);\r\n    }\r\n  }\r\n\r\n  handleRetry = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        const FallbackComponent = this.props.fallback;\r\n        return <FallbackComponent error={this.state.error} retry={this.handleRetry} />;\r\n      }\r\n\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n          <div className=\"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 dark:bg-red-900 rounded-full mb-4\">\r\n              <svg className=\"w-6 h-6 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n              </svg>\r\n            </div>\r\n            \r\n            <div className=\"text-center\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Something went wrong\r\n              </h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\r\n                We're sorry, but something unexpected happened. Please try refreshing the page.\r\n              </p>\r\n              \r\n              <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                <button\r\n                  onClick={this.handleRetry}\r\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors\"\r\n                >\r\n                  Try Again\r\n                </button>\r\n                <button\r\n                  onClick={() => window.location.reload()}\r\n                  className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  Refresh Page\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mt-6 p-4 bg-gray-100 dark:bg-gray-700 rounded-md\">\r\n                <summary className=\"cursor-pointer text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Error Details (Development Only)\r\n                </summary>\r\n                <pre className=\"mt-2 text-xs text-gray-600 dark:text-gray-300 whitespace-pre-wrap\">\r\n                  {this.state.error.toString()}\r\n                  {this.state.errorInfo?.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Higher-order component for easier usage\r\nexport function withErrorBoundary<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: React.ComponentType<{ error?: Error; retry: () => void }>\r\n) {\r\n  const WrappedComponent = (props: P) => (\r\n    <ErrorBoundary fallback={fallback}>\r\n      <Component {...props} />\r\n    </ErrorBoundary>\r\n  );\r\n\r\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\r\n  \r\n  return WrappedComponent;\r\n}\r\n\r\n// Hook for error boundary context\r\nexport function useErrorHandler() {\r\n  return (error: Error, errorInfo?: React.ErrorInfo) => {\r\n    // In production, this would send to error monitoring service\r\n    console.error('Error handled by hook:', error, errorInfo);\r\n  };\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { env } from './env';\r\n\r\nexport interface ApiError {\r\n  message: string;\r\n  code?: string;\r\n  status?: number;\r\n  details?: any;\r\n}\r\n\r\nexport class ApiErrorHandler {\r\n  static handle(error: any): ApiError {\r\n    // Network errors\r\n    if (!error.response) {\r\n      return {\r\n        message: 'Network error. Please check your connection and try again.',\r\n        code: 'NETWORK_ERROR',\r\n        status: 0\r\n      };\r\n    }\r\n\r\n    const { status, data } = error.response;\r\n    \r\n    // Handle different HTTP status codes\r\n    switch (status) {\r\n      case 400:\r\n        return {\r\n          message: data?.message || 'Invalid request. Please check your input.',\r\n          code: 'BAD_REQUEST',\r\n          status: 400,\r\n          details: data\r\n        };\r\n      \r\n      case 401:\r\n        return {\r\n          message: 'You are not authorized. Please log in again.',\r\n          code: 'UNAUTHORIZED',\r\n          status: 401\r\n        };\r\n      \r\n      case 403:\r\n        return {\r\n          message: 'You do not have permission to perform this action.',\r\n          code: 'FORBIDDEN',\r\n          status: 403\r\n        };\r\n      \r\n      case 404:\r\n        return {\r\n          message: 'The requested resource was not found.',\r\n          code: 'NOT_FOUND',\r\n          status: 404\r\n        };\r\n      \r\n      case 409:\r\n        return {\r\n          message: data?.message || 'Conflict with existing data.',\r\n          code: 'CONFLICT',\r\n          status: 409,\r\n          details: data\r\n        };\r\n      \r\n      case 422:\r\n        return {\r\n          message: data?.message || 'Validation failed. Please check your input.',\r\n          code: 'VALIDATION_ERROR',\r\n          status: 422,\r\n          details: data\r\n        };\r\n      \r\n      case 429:\r\n        return {\r\n          message: 'Too many requests. Please wait a moment and try again.',\r\n          code: 'RATE_LIMITED',\r\n          status: 429\r\n        };\r\n      \r\n      case 500:\r\n        return {\r\n          message: 'Server error. Please try again later.',\r\n          code: 'SERVER_ERROR',\r\n          status: 500\r\n        };\r\n      \r\n      case 503:\r\n        return {\r\n          message: 'Service temporarily unavailable. Please try again later.',\r\n          code: 'SERVICE_UNAVAILABLE',\r\n          status: 503\r\n        };\r\n      \r\n      default:\r\n        return {\r\n          message: data?.message || 'An unexpected error occurred.',\r\n          code: 'UNKNOWN_ERROR',\r\n          status,\r\n          details: data\r\n        };\r\n    }\r\n  }\r\n\r\n  static getUserFriendlyMessage(error: ApiError): string {\r\n    // Return user-friendly messages based on error type\r\n    switch (error.code) {\r\n      case 'NETWORK_ERROR':\r\n        return 'Unable to connect to the server. Please check your internet connection.';\r\n      \r\n      case 'UNAUTHORIZED':\r\n        return 'Your session has expired. Please log in again.';\r\n      \r\n      case 'FORBIDDEN':\r\n        return 'You do not have permission to perform this action.';\r\n      \r\n      case 'NOT_FOUND':\r\n        return 'The requested item could not be found.';\r\n      \r\n      case 'VALIDATION_ERROR':\r\n        return 'Please check your input and try again.';\r\n      \r\n      case 'RATE_LIMITED':\r\n        return 'Please wait a moment before trying again.';\r\n      \r\n      case 'SERVER_ERROR':\r\n        return 'Something went wrong on our end. Please try again later.';\r\n      \r\n      case 'SERVICE_UNAVAILABLE':\r\n        return 'The service is temporarily unavailable. Please try again later.';\r\n      \r\n      default:\r\n        return error.message || 'An unexpected error occurred.';\r\n    }\r\n  }\r\n\r\n  static shouldRetry(error: ApiError): boolean {\r\n    // Determine if the request should be retried\r\n    const retryableCodes = ['NETWORK_ERROR', 'SERVER_ERROR', 'SERVICE_UNAVAILABLE', 'RATE_LIMITED'];\r\n    return retryableCodes.includes(error.code || '');\r\n  }\r\n\r\n  static getRetryDelay(attempt: number): number {\r\n    // Exponential backoff: 1s, 2s, 4s, 8s, 16s\r\n    return Math.min(1000 * Math.pow(2, attempt), 16000);\r\n  }\r\n}\r\n\r\n// Toast notification system for errors\r\nexport interface ToastNotification {\r\n  id: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  title: string;\r\n  message: string;\r\n  duration?: number;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n}\r\n\r\nexport class NotificationManager {\r\n  private static notifications: ToastNotification[] = [];\r\n  private static listeners: ((notifications: ToastNotification[]) => void)[] = [];\r\n\r\n  static subscribe(listener: (notifications: ToastNotification[]) => void) {\r\n    this.listeners.push(listener);\r\n    return () => {\r\n      this.listeners = this.listeners.filter(l => l !== listener);\r\n    };\r\n  }\r\n\r\n  static addNotification(notification: Omit<ToastNotification, 'id'>) {\r\n    const id = Math.random().toString(36).substr(2, 9);\r\n    const newNotification: ToastNotification = {\r\n      ...notification,\r\n      id,\r\n      duration: notification.duration || 5000\r\n    };\r\n\r\n    this.notifications.push(newNotification);\r\n    this.notifyListeners();\r\n\r\n    // Auto-remove after duration\r\n    setTimeout(() => {\r\n      this.removeNotification(id);\r\n    }, newNotification.duration);\r\n\r\n    return id;\r\n  }\r\n\r\n  static removeNotification(id: string) {\r\n    this.notifications = this.notifications.filter(n => n.id !== id);\r\n    this.notifyListeners();\r\n  }\r\n\r\n  static clearAll() {\r\n    this.notifications = [];\r\n    this.notifyListeners();\r\n  }\r\n\r\n  private static notifyListeners() {\r\n    this.listeners.forEach(listener => listener([...this.notifications]));\r\n  }\r\n\r\n  // Convenience methods\r\n  static success(title: string, message: string, duration?: number) {\r\n    return this.addNotification({ type: 'success', title, message, duration });\r\n  }\r\n\r\n  static error(title: string, message: string, duration?: number) {\r\n    return this.addNotification({ type: 'error', title, message, duration });\r\n  }\r\n\r\n  static warning(title: string, message: string, duration?: number) {\r\n    return this.addNotification({ type: 'warning', title, message, duration });\r\n  }\r\n\r\n  static info(title: string, message: string, duration?: number) {\r\n    return this.addNotification({ type: 'info', title, message, duration });\r\n  }\r\n}\r\n\r\n// Hook for using notifications\r\nexport function useNotifications() {\r\n  const [notifications, setNotifications] = React.useState<ToastNotification[]>([]);\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = NotificationManager.subscribe(setNotifications);\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  return {\r\n    notifications,\r\n    addNotification: NotificationManager.addNotification,\r\n    removeNotification: NotificationManager.removeNotification,\r\n    clearAll: NotificationManager.clearAll,\r\n    success: NotificationManager.success,\r\n    error: NotificationManager.error,\r\n    warning: NotificationManager.warning,\r\n    info: NotificationManager.info\r\n  };\r\n}\r\n\r\n// Enhanced API client with error handling\r\nexport function createApiClient() {\r\n  const client = axios.create({\r\n    baseURL: env.API_BASE_URL,\r\n    timeout: 15000,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\n  // Request interceptor\r\n  client.interceptors.request.use(\r\n    (config) => {\r\n      // Add auth token if available\r\n      const token = localStorage.getItem('auth_token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n  );\r\n\r\n  // Response interceptor with error handling\r\n  client.interceptors.response.use(\r\n    (response) => response,\r\n    async (error) => {\r\n      const apiError = ApiErrorHandler.handle(error);\r\n      \r\n      // Log error in development\r\n      if (env.NODE_ENV === 'development') {\r\n        console.error('API Error:', apiError);\r\n      }\r\n\r\n      // Show user-friendly notification\r\n      const userMessage = ApiErrorHandler.getUserFriendlyMessage(apiError);\r\n      NotificationManager.error('Request Failed', userMessage);\r\n\r\n      // Handle specific error cases\r\n      if (apiError.code === 'UNAUTHORIZED') {\r\n        // Clear auth token and redirect to login\r\n        localStorage.removeItem('auth_token');\r\n        localStorage.removeItem('userRole');\r\n        window.location.href = '/login';\r\n      }\r\n\r\n      return Promise.reject(apiError);\r\n    }\r\n  );\r\n\r\n  return client;\r\n}\r\n\r\n// Retry mechanism for failed requests\r\nexport async function withRetry<T>(\r\n  operation: () => Promise<T>,\r\n  maxAttempts = 3,\r\n  baseDelay = 1000\r\n): Promise<T> {\r\n  let lastError: any;\r\n\r\n  for (let attempt = 0; attempt < maxAttempts; attempt++) {\r\n    try {\r\n      return await operation();\r\n    } catch (error) {\r\n      lastError = error;\r\n      const apiError = ApiErrorHandler.handle(error);\r\n      \r\n      if (!ApiErrorHandler.shouldRetry(apiError) || attempt === maxAttempts - 1) {\r\n        throw apiError;\r\n      }\r\n\r\n      const delay = ApiErrorHandler.getRetryDelay(attempt);\r\n      await new Promise(resolve => setTimeout(resolve, delay));\r\n    }\r\n  }\r\n\r\n  throw lastError;\r\n}\r\n","import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useNotifications, type ToastNotification } from '../lib/errorHandling';\r\n\r\nconst ToastItem: React.FC<{\r\n  notification: ToastNotification;\r\n  onRemove: (id: string) => void;\r\n}> = ({ notification, onRemove }) => {\r\n  const { type, title, message, action } = notification;\r\n\r\n  const getIcon = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'error':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'warning':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      case 'info':\r\n        return (\r\n          <svg className=\"w-5 h-5 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getBackgroundColor = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800';\r\n      case 'error':\r\n        return 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800';\r\n      case 'warning':\r\n        return 'bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800';\r\n      case 'info':\r\n        return 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800';\r\n      default:\r\n        return 'bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 50, scale: 0.3 }}\r\n      animate={{ opacity: 1, y: 0, scale: 1 }}\r\n      exit={{ opacity: 0, scale: 0.5, transition: { duration: 0.2 } }}\r\n      className={`max-w-sm w-full ${getBackgroundColor()} border rounded-lg shadow-lg p-4`}\r\n      role=\"alert\"\r\n      aria-live=\"polite\"\r\n    >\r\n      <div className=\"flex items-start\">\r\n        <div className=\"flex-shrink-0\">\r\n          {getIcon()}\r\n        </div>\r\n        <div className=\"ml-3 w-0 flex-1\">\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n            {title}\r\n          </p>\r\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-300\">\r\n            {message}\r\n          </p>\r\n          {action && (\r\n            <div className=\"mt-2\">\r\n              <button\r\n                onClick={action.onClick}\r\n                className=\"text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300\"\r\n              >\r\n                {action.label}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"ml-4 flex-shrink-0 flex\">\r\n          <button\r\n            onClick={() => onRemove(notification.id)}\r\n            className=\"inline-flex text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n            aria-label=\"Close notification\"\r\n          >\r\n            <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport const ToastContainer: React.FC = () => {\r\n  const { notifications, removeNotification } = useNotifications();\r\n\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\r\n      <AnimatePresence>\r\n        {notifications.map((notification) => (\r\n          <ToastItem\r\n            key={notification.id}\r\n            notification={notification}\r\n            onRemove={removeNotification}\r\n          />\r\n        ))}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Outlet, useLocation } from 'react-router-dom';\r\nimport { Header } from '../components/Header';\r\nimport { Footer } from '../components/Footer';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { Breadcrumbs } from '../components/Breadcrumbs';\r\nimport { ErrorBoundary } from '../components/ErrorBoundary';\r\nimport { ToastContainer } from '../components/ToastContainer';\r\n\r\nexport const AppLayout: React.FC = () => {\r\n  const location = useLocation();\r\n  const isHomePage = location.pathname === '/';\r\n  const isAuthPage = location.pathname === '/login' || location.pathname === '/signup';\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"min-h-screen bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-100 flex flex-col\">\r\n        <Header />\r\n        <main className={`flex-1 ${isHomePage ? '' : isAuthPage ? 'flex items-center justify-center px-4 py-8' : 'mx-auto max-w-6xl px-4 py-8'}`}>\r\n          {!isHomePage && !isAuthPage && <Breadcrumbs />}\r\n          <RouteTransitions>\r\n            <Outlet />\r\n          </RouteTransitions>\r\n        </main>\r\n        <Footer />\r\n        <ToastContainer />\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nconst RouteTransitions: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const location = useLocation();\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      <motion.div\r\n        key={location.pathname}\r\n        initial={{ opacity: 0, y: 8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: -8 }}\r\n        transition={{ duration: 0.2 }}\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport { isRouteErrorResponse, useRouteError } from 'react-router-dom';\r\n\r\nexport const RouteErrorBoundary: React.FC = () => {\r\n  const error = useRouteError();\r\n  const message = isRouteErrorResponse(error)\r\n    ? `${error.status} ${error.statusText}`\r\n    : (error instanceof Error ? error.message : 'Something went wrong');\r\n  return (\r\n    <div className=\"rounded-lg border p-6 dark:border-slate-700\">\r\n      <h2 className=\"text-xl font-semibold\">Something went wrong</h2>\r\n      <p className=\"mt-2 text-slate-600 dark:text-slate-300\">{message}</p>\r\n      <button onClick={() => window.location.reload()} className=\"mt-4 rounded-md bg-primary-600 px-3 py-1.5 text-white hover:bg-primary-700\">Reload</button>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../lib/auth';\r\n\r\nexport const DashboardRedirect: React.FC = () => {\r\n  const { role } = useAuth();\r\n  \r\n  switch (role) {\r\n    case 'buyer':\r\n      return <Navigate to=\"/user-dashboard\" replace />;\r\n    case 'seller':\r\n      return <Navigate to=\"/seller-dashboard\" replace />;\r\n    case 'admin':\r\n      return <Navigate to=\"/admin\" replace />;\r\n    default:\r\n      return <Navigate to=\"/login\" replace />;\r\n  }\r\n};\r\n","import { createBrowserRouter } from 'react-router-dom';\r\nimport { AppLayout } from '../ui/AppLayout';\r\nimport { AuthProvider } from '../lib/auth';\r\nimport { RouteErrorBoundary } from '../ui/RouteErrorBoundary';\r\nimport { DashboardRedirect } from '../components/DashboardRedirect';\r\nimport React from 'react';\r\n\r\n// Lazy load pages for better performance\r\nconst HomePage = React.lazy(() => import('../pages/HomePage'));\r\nconst LoginPage = React.lazy(() => import('../pages/LoginPage'));\r\nconst SignupPage = React.lazy(() => import('../pages/SignupPage'));\r\nconst AdminPage = React.lazy(() => import('../pages/AdminPage'));\r\nconst UserDashboardPage = React.lazy(() => import('../pages/UserDashboardPage'));\r\nconst SellerDashboardPage = React.lazy(() => import('../pages/SellerDashboardPage'));\r\nconst ProfilePage = React.lazy(() => import('../pages/ProfilePage'));\r\nconst AboutPage = React.lazy(() => import('../pages/AboutPage'));\r\nconst NotFoundPage = React.lazy(() => import('../pages/NotFoundPage'));\r\nconst ServicesPage = React.lazy(() => import('../pages/ServicesPage'));\r\nconst HowItWorksPage = React.lazy(() => import('../pages/HowItWorksPage'));\r\nconst PricingPage = React.lazy(() => import('../pages/PricingPage'));\r\nconst ContactPage = React.lazy(() => import('../pages/ContactPage'));\r\nconst HelpCenterPage = React.lazy(() => import('../pages/HelpCenterPage'));\r\nconst FAQPage = React.lazy(() => import('../pages/FAQPage'));\r\nconst TermsPage = React.lazy(() => import('../pages/TermsPage'));\r\nconst PrivacyPage = React.lazy(() => import('../pages/PrivacyPage'));\r\nconst CookiesPage = React.lazy(() => import('../pages/CookiesPage'));\r\nconst RequestServicePage = React.lazy(() => import('../pages/RequestServicePage'));\r\nconst ServiceRequestDetailsPage = React.lazy(() => import('../pages/ServiceRequestDetailsPage'));\r\n\r\n// Wrapper component that provides Auth context within Router context\r\nconst AppWithAuth: React.FC = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <React.Suspense fallback={\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      }>\r\n        <AppLayout />\r\n      </React.Suspense>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport const router = createBrowserRouter([\r\n  {\r\n    element: <AppWithAuth />,\r\n    errorElement: <RouteErrorBoundary />,\r\n    children: [\r\n      { index: true, element: <HomePage /> },\r\n      { path: '/login', element: <LoginPage /> },\r\n      { path: '/signup', element: <SignupPage /> },\r\n      { path: '/about', element: <AboutPage /> },\r\n      { path: '/services', element: <ServicesPage /> },\r\n      { path: '/how-it-works', element: <HowItWorksPage /> },\r\n      { path: '/pricing', element: <PricingPage /> },\r\n      { path: '/contact', element: <ContactPage /> },\r\n      { path: '/help', element: <HelpCenterPage /> },\r\n      { path: '/faq', element: <FAQPage /> },\r\n      { path: '/terms', element: <TermsPage /> },\r\n      { path: '/privacy', element: <PrivacyPage /> },\r\n      { path: '/cookies', element: <CookiesPage /> },\r\n      { path: '/admin', element: <AdminPage /> },\r\n      { path: '/user-dashboard', element: <UserDashboardPage /> },\r\n      { path: '/seller-dashboard', element: <SellerDashboardPage /> },\r\n      { path: '/dashboard', element: <DashboardRedirect /> }, // Smart redirect based on role\r\n      { path: '/profile', element: <ProfilePage /> },\r\n      { path: '/request-service', element: <RequestServicePage /> },\r\n      { path: '/requests/:id', element: <ServiceRequestDetailsPage /> },\r\n      { path: '*', element: <NotFoundPage /> },\r\n    ],\r\n  },\r\n]);\r\n\r\n\r\n","// import { config } from '../config/env';\r\n\r\n// Google Analytics 4 service\r\nclass AnalyticsService {\r\n  private measurementId: string;\r\n  private isInitialized: boolean = false;\r\n\r\n  constructor() {\r\n    this.measurementId = 'G-XXXXXXXXXX'; // Placeholder\r\n  }\r\n\r\n  // Initialize Google Analytics\r\n  init(): void {\r\n    if (this.isInitialized || !this.measurementId) return;\r\n\r\n    // Load Google Analytics script\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${this.measurementId}`;\r\n    document.head.appendChild(script);\r\n\r\n    // Initialize gtag\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag(...args: any[]) {\r\n      window.dataLayer.push(args);\r\n    }\r\n    window.gtag = gtag;\r\n\r\n    gtag('js', new Date());\r\n    gtag('config', this.measurementId, {\r\n      page_title: document.title,\r\n      page_location: window.location.href,\r\n    });\r\n\r\n    this.isInitialized = true;\r\n  }\r\n\r\n  // Track page view\r\n  trackPageView(pagePath: string, pageTitle?: string): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      page_path: pagePath,\r\n      page_title: pageTitle || document.title,\r\n    });\r\n  }\r\n\r\n  // Track custom event\r\n  trackEvent(eventName: string, parameters?: Record<string, any>): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('event', eventName, {\r\n      ...parameters,\r\n      event_category: parameters?.category || 'engagement',\r\n      event_label: parameters?.label,\r\n      value: parameters?.value,\r\n    });\r\n  }\r\n\r\n  // Track user registration\r\n  trackRegistration(method: string = 'email'): void {\r\n    this.trackEvent('sign_up', {\r\n      method,\r\n      category: 'user',\r\n    });\r\n  }\r\n\r\n  // Track user login\r\n  trackLogin(method: string = 'email'): void {\r\n    this.trackEvent('login', {\r\n      method,\r\n      category: 'user',\r\n    });\r\n  }\r\n\r\n  // Track service request creation\r\n  trackServiceRequestCreated(requestType: 'instant' | 'scheduled', category: string, price: number): void {\r\n    this.trackEvent('service_request_created', {\r\n      request_type: requestType,\r\n      service_category: category,\r\n      price,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track service request accepted\r\n  trackServiceRequestAccepted(requestId: string, sellerId: string): void {\r\n    this.trackEvent('service_request_accepted', {\r\n      request_id: requestId,\r\n      seller_id: sellerId,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track service request completed\r\n  trackServiceRequestCompleted(requestId: string, price: number): void {\r\n    this.trackEvent('service_request_completed', {\r\n      request_id: requestId,\r\n      price,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track seller profile creation\r\n  trackSellerProfileCreated(categories: string[]): void {\r\n    this.trackEvent('seller_profile_created', {\r\n      service_categories: categories.join(','),\r\n      category: 'seller',\r\n    });\r\n  }\r\n\r\n  // Track search\r\n  trackSearch(searchTerm: string, resultsCount: number): void {\r\n    this.trackEvent('search', {\r\n      search_term: searchTerm,\r\n      results_count: resultsCount,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track file upload\r\n  trackFileUpload(fileType: 'avatar' | 'portfolio', fileSize: number): void {\r\n    this.trackEvent('file_upload', {\r\n      file_type: fileType,\r\n      file_size: fileSize,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track error\r\n  trackError(errorMessage: string, errorCode?: string): void {\r\n    this.trackEvent('error', {\r\n      error_message: errorMessage,\r\n      error_code: errorCode,\r\n      category: 'error',\r\n    });\r\n  }\r\n\r\n  // Track conversion (purchase)\r\n  trackConversion(transactionId: string, value: number, currency: string = 'USD'): void {\r\n    this.trackEvent('purchase', {\r\n      transaction_id: transactionId,\r\n      value,\r\n      currency,\r\n      category: 'ecommerce',\r\n    });\r\n  }\r\n\r\n  // Set user properties\r\n  setUserProperties(properties: Record<string, any>): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      user_properties: properties,\r\n    });\r\n  }\r\n\r\n  // Set user ID\r\n  setUserId(userId: string): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      user_id: userId,\r\n    });\r\n  }\r\n\r\n  // Track timing\r\n  trackTiming(name: string, value: number, category: string = 'performance'): void {\r\n    this.trackEvent('timing_complete', {\r\n      name,\r\n      value,\r\n      category,\r\n    });\r\n  }\r\n\r\n  // Track social interaction\r\n  trackSocialInteraction(network: string, action: string, target?: string): void {\r\n    this.trackEvent('social_interaction', {\r\n      social_network: network,\r\n      social_action: action,\r\n      social_target: target,\r\n      category: 'social',\r\n    });\r\n  }\r\n\r\n  // Track outbound link click\r\n  trackOutboundLink(url: string): void {\r\n    this.trackEvent('click', {\r\n      event_category: 'outbound',\r\n      event_label: url,\r\n      transport_type: 'beacon',\r\n    });\r\n  }\r\n\r\n  // Track form submission\r\n  trackFormSubmission(formName: string, formType: string): void {\r\n    this.trackEvent('form_submit', {\r\n      form_name: formName,\r\n      form_type: formType,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track video interaction\r\n  trackVideoInteraction(action: string, videoTitle: string, progress?: number): void {\r\n    this.trackEvent('video_interaction', {\r\n      video_action: action,\r\n      video_title: videoTitle,\r\n      video_progress: progress,\r\n      category: 'video',\r\n    });\r\n  }\r\n\r\n  // Track scroll depth\r\n  trackScrollDepth(depth: number): void {\r\n    this.trackEvent('scroll', {\r\n      scroll_depth: depth,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track time on page\r\n  trackTimeOnPage(timeInSeconds: number): void {\r\n    this.trackEvent('timing', {\r\n      name: 'time_on_page',\r\n      value: timeInSeconds,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst analyticsService = new AnalyticsService();\r\n\r\n// Initialize analytics on app start\r\nif (typeof window !== 'undefined') {\r\n  analyticsService.init();\r\n}\r\n\r\n// Export the service\r\nexport default analyticsService;\r\n\r\n// Export individual functions for convenience\r\nexport const {\r\n  trackPageView,\r\n  trackEvent,\r\n  trackRegistration,\r\n  trackLogin,\r\n  trackServiceRequestCreated,\r\n  trackServiceRequestAccepted,\r\n  trackServiceRequestCompleted,\r\n  trackSellerProfileCreated,\r\n  trackSearch,\r\n  trackFileUpload,\r\n  trackError,\r\n  trackConversion,\r\n  setUserProperties,\r\n  setUserId,\r\n  trackTiming,\r\n  trackSocialInteraction,\r\n  trackOutboundLink,\r\n  trackFormSubmission,\r\n  trackVideoInteraction,\r\n  trackScrollDepth,\r\n  trackTimeOnPage,\r\n} = analyticsService;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface CookieConsentProps {\r\n  onAccept: (preferences: CookiePreferences) => void;\r\n  onDecline: () => void;\r\n}\r\n\r\ninterface CookiePreferences {\r\n  necessary: boolean;\r\n  analytics: boolean;\r\n  marketing: boolean;\r\n  preferences: boolean;\r\n}\r\n\r\nconst CookieConsent: React.FC<CookieConsentProps> = ({ onAccept, onDecline }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [preferences, setPreferences] = useState<CookiePreferences>({\r\n    necessary: true, // Always true, can't be disabled\r\n    analytics: false,\r\n    marketing: false,\r\n    preferences: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check if user has already made a choice\r\n    const consent = localStorage.getItem('cookieConsent');\r\n    if (!consent) {\r\n      setIsVisible(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleAcceptAll = () => {\r\n    const allPreferences: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: true,\r\n      marketing: true,\r\n      preferences: true,\r\n    };\r\n    localStorage.setItem('cookieConsent', JSON.stringify(allPreferences));\r\n    onAccept(allPreferences);\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const handleAcceptSelected = () => {\r\n    localStorage.setItem('cookieConsent', JSON.stringify(preferences));\r\n    onAccept(preferences);\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const handleDecline = () => {\r\n    const minimalPreferences: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: false,\r\n      marketing: false,\r\n      preferences: false,\r\n    };\r\n    localStorage.setItem('cookieConsent', JSON.stringify(minimalPreferences));\r\n    onDecline();\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const togglePreference = (key: keyof CookiePreferences) => {\r\n    if (key === 'necessary') return; // Can't disable necessary cookies\r\n    \r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [key]: !prev[key],\r\n    }));\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 100 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: 100 }}\r\n        className=\"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 shadow-lg\"\r\n      >\r\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Cookie Preferences\r\n              </h3>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\r\n                We use cookies to enhance your experience, analyze site traffic, and personalize content. \r\n                You can choose which cookies to accept or decline.\r\n              </p>\r\n              \r\n              {showDetails && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, height: 0 }}\r\n                  animate={{ opacity: 1, height: 'auto' }}\r\n                  exit={{ opacity: 0, height: 0 }}\r\n                  className=\"space-y-4 mb-4\"\r\n                >\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Necessary Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Essential for the website to function properly. Cannot be disabled.\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"w-10 h-6 bg-green-500 rounded-full flex items-center justify-end px-1\">\r\n                          <div className=\"w-4 h-4 bg-white rounded-full\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Analytics Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Help us understand how visitors interact with our website.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('analytics')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.analytics ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.analytics ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Marketing Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Used to deliver personalized advertisements.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('marketing')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.marketing ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.marketing ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Preference Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Remember your preferences and settings.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('preferences')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.preferences ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.preferences ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <button\r\n                  onClick={() => setShowDetails(!showDetails)}\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  {showDetails ? 'Hide Details' : 'Show Details'}\r\n                </button>\r\n                <a\r\n                  href=\"/privacy\"\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  Privacy Policy\r\n                </a>\r\n                <a\r\n                  href=\"/cookies\"\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  Cookie Policy\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-3 lg:ml-6\">\r\n              <button\r\n                onClick={handleDecline}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n              >\r\n                Decline All\r\n              </button>\r\n              <button\r\n                onClick={handleAcceptSelected}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n              >\r\n                Accept Selected\r\n              </button>\r\n              <button\r\n                onClick={handleAcceptAll}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Accept All\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n// Hook to manage cookie consent\r\nexport const useCookieConsent = () => {\r\n  const [consent, setConsent] = useState<CookiePreferences | null>(null);\r\n\r\n  useEffect(() => {\r\n    const savedConsent = localStorage.getItem('cookieConsent');\r\n    if (savedConsent) {\r\n      setConsent(JSON.parse(savedConsent));\r\n    }\r\n  }, []);\r\n\r\n  const handleAccept = (preferences: CookiePreferences) => {\r\n    setConsent(preferences);\r\n    \r\n    // Initialize analytics if accepted\r\n    if (preferences.analytics) {\r\n      // Initialize Google Analytics\r\n      if (typeof window !== 'undefined' && window.gtag) {\r\n        window.gtag('consent', 'update', {\r\n          analytics_storage: 'granted',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Initialize marketing cookies if accepted\r\n    if (preferences.marketing) {\r\n      if (typeof window !== 'undefined' && window.gtag) {\r\n        window.gtag('consent', 'update', {\r\n          ad_storage: 'granted',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDecline = () => {\r\n    const minimalConsent: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: false,\r\n      marketing: false,\r\n      preferences: false,\r\n    };\r\n    setConsent(minimalConsent);\r\n  };\r\n\r\n  return {\r\n    consent,\r\n    handleAccept,\r\n    handleDecline,\r\n    hasConsent: consent !== null,\r\n  };\r\n};\r\n\r\nexport default CookieConsent;\r\n","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { RouterProvider } from 'react-router-dom';\r\nimport { router } from './routes/index';\r\nimport './index.css';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { initSentry } from './services/sentry';\r\nimport analyticsService from './services/analytics';\r\nimport CookieConsent, { useCookieConsent } from './components/CookieConsent';\r\n\r\n// Initialize services\r\ninitSentry();\r\nanalyticsService.init();\r\n\r\n// Register service worker\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/sw.js')\r\n      .then((registration) => {\r\n        console.log('SW registered: ', registration);\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('SW registration failed: ', registrationError);\r\n      });\r\n  });\r\n}\r\n\r\nconst rootElement = document.getElementById('root');\r\nif (!rootElement) {\r\n  throw new Error('Root element with id \"root\" not found');\r\n}\r\n\r\n// App component with cookie consent\r\nconst AppWithConsent = () => {\r\n  const { handleAccept, handleDecline } = useCookieConsent();\r\n\r\n  return (\r\n    <>\r\n      <RouterProvider router={router} />\r\n      <CookieConsent onAccept={handleAccept} onDecline={handleDecline} />\r\n    </>\r\n  );\r\n};\r\n\r\ncreateRoot(rootElement).render(\r\n  <React.StrictMode>\r\n    <AppWithConsent />\r\n  </React.StrictMode>\r\n);\r\n\r\n\r\n"],"file":"assets/index-vhHMrfFc.js"}