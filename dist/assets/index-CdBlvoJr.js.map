{"version":3,"mappings":"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","names":["m","require$$0","createRoot","hydrateRoot","SimpleAppLayout","jsx","className","children","Outlet","env","requiredEnvVars","NODE_ENV","__vite_import_meta_env__","VITE_APP_VERSION","Error","config","API_BASE_URL","APP_VERSION","SENTRY_DSN","ANALYTICS_ID","validateEnvironment","isProduction","apiClient","client","axios","create","baseURL","timeout","headers","interceptors","request","use","token","localStorage","getItem","Authorization","error","Promise","reject","response","async","originalRequest","_a","status","_retry","refreshToken","post","accessToken","newRefreshToken","data","setItem","refreshError","removeItem","window","location","href","createApiClient","api","get","url","put","patch","delete","upload","file","onProgress","formData","FormData","append","onUploadProgress","progressEvent","total","progress","Math","round","loaded","uploadMultiple","files","forEach","index","authApi","userData","credentials","handleApiError","message","code","initialState","user","isAuthenticated","isLoading","authReducer","state","action","type","payload","AuthContext","createContext","AuthProvider","dispatch","useReducer","useEffect","success","refreshResponse","newAccessToken","userResponse","initializeAuth","contextValue","login","email","password","apiError","register","logout","refreshAuth","clearError","updateUser","role","loginAs","Provider","value","useAuth","context","useContext","RouteErrorBoundary","useRouteError","isRouteErrorResponse","statusText","jsxs","onClick","reload","DashboardRedirect","Navigate","to","replace","HomePage","React","lazy","import","catch","default","LoginPage","SignupPage","AdminPage","UserDashboardPage","SellerDashboardPage","ProfilePage","AboutPage","NotFoundPage","ServicesPage","HowItWorksPage","PricingPage","ContactPage","HelpCenterPage","FAQPage","TermsPage","PrivacyPage","CookiesPage","RequestServicePage","ServiceRequestDetailsPage","AppWithAuth","Suspense","fallback","router","createBrowserRouter","element","errorElement","path","analyticsService","constructor","__publicField","this","measurementId","init","isInitialized","script","document","createElement","gtag","args","dataLayer","push","src","head","appendChild","Date","page_title","title","page_location","trackPageView","pagePath","pageTitle","page_path","trackEvent","eventName","parameters","event_category","category","event_label","label","trackRegistration","method","trackLogin","trackServiceRequestCreated","requestType","price","request_type","service_category","trackServiceRequestAccepted","requestId","sellerId","request_id","seller_id","trackServiceRequestCompleted","trackSellerProfileCreated","categories","service_categories","join","trackSearch","searchTerm","resultsCount","search_term","results_count","trackFileUpload","fileType","fileSize","file_type","file_size","trackError","errorMessage","errorCode","error_message","error_code","trackConversion","transactionId","currency","transaction_id","setUserProperties","properties","user_properties","setUserId","userId","user_id","trackTiming","name","trackSocialInteraction","network","target","social_network","social_action","social_target","trackOutboundLink","transport_type","trackFormSubmission","formName","formType","form_name","form_type","trackVideoInteraction","videoTitle","video_action","video_title","video_progress","trackScrollDepth","depth","scroll_depth","trackTimeOnPage","timeInSeconds","CookieConsent","onAccept","onDecline","isVisible","setIsVisible","useState","showDetails","setShowDetails","preferences","setPreferences","necessary","analytics","marketing","togglePreference","key","prev","AnimatePresence","motion","div","initial","opacity","y","animate","exit","height","JSON","stringify","allPreferences","navigator","addEventListener","serviceWorker","then","registration","registrationError","rootElement","getElementById","AppWithConsent","handleAccept","handleDecline","consent","setConsent","savedConsent","parse","analytics_storage","ad_storage","hasConsent","useCookieConsent","Fragment","RouterProvider","render","StrictMode"],"ignoreList":[0],"sources":["../../node_modules/react-dom/client.js","../../src/ui/SimpleAppLayout.tsx","../../src/lib/env.ts","../../src/api/client.ts","../../src/lib/auth.tsx","../../src/ui/RouteErrorBoundary.tsx","../../src/components/DashboardRedirect.tsx","../../src/routes/index.tsx","../../src/services/analytics.ts","../../src/components/CookieConsent.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\n\r\nexport const SimpleAppLayout: React.FC = () => {\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// Environment configuration and validation\r\ninterface EnvironmentConfig {\r\n  API_BASE_URL: string;\r\n  NODE_ENV: 'development' | 'production' | 'test';\r\n  APP_VERSION: string;\r\n  SENTRY_DSN?: string;\r\n  ANALYTICS_ID?: string;\r\n}\r\n\r\nfunction validateEnvironment(): EnvironmentConfig {\r\n  const requiredEnvVars = {\r\n    NODE_ENV: import.meta.env['NODE_ENV'],\r\n    VITE_APP_VERSION: import.meta.env['VITE_APP_VERSION'],\r\n  };\r\n\r\n  // Validate required environment variables\r\n  if (!requiredEnvVars.NODE_ENV) {\r\n    throw new Error('NODE_ENV is required');\r\n  }\r\n\r\n  const config: EnvironmentConfig = {\r\n    API_BASE_URL: '/api', // Use relative path for Vercel serverless functions\r\n    NODE_ENV: requiredEnvVars.NODE_ENV as EnvironmentConfig['NODE_ENV'],\r\n    APP_VERSION: requiredEnvVars.VITE_APP_VERSION || '1.0.0',\r\n    SENTRY_DSN: import.meta.env['VITE_SENTRY_DSN'],\r\n    ANALYTICS_ID: import.meta.env['VITE_ANALYTICS_ID'],\r\n  };\r\n\r\n  // Log configuration in development\r\n  if (config.NODE_ENV === 'development') {\r\n    console.log('Environment Configuration:', {\r\n      API_BASE_URL: config.API_BASE_URL,\r\n      NODE_ENV: config.NODE_ENV,\r\n      APP_VERSION: config.APP_VERSION,\r\n      SENTRY_ENABLED: !!config.SENTRY_DSN,\r\n      ANALYTICS_ENABLED: !!config.ANALYTICS_ID,\r\n    });\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nexport const env = validateEnvironment();\r\n\r\n// Environment-specific configurations\r\nexport const isDevelopment = env.NODE_ENV === 'development';\r\nexport const isProduction = env.NODE_ENV === 'production';\r\nexport const isTest = env.NODE_ENV === 'test';\r\n\r\n// Feature flags based on environment\r\nexport const features = {\r\n  enableAnalytics: isProduction && !!env.ANALYTICS_ID,\r\n  enableErrorReporting: isProduction && !!env.SENTRY_DSN,\r\n  enableMockData: isDevelopment || isTest,\r\n  enableDebugLogs: isDevelopment,\r\n} as const;\r\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\r\nimport { env } from '../lib/env';\r\n\r\n// API Response interface\r\ninterface ApiResponse<T = any> {\r\n  success: boolean;\r\n  message: string;\r\n  data?: T;\r\n  error?: string;\r\n  code?: string;\r\n}\r\n\r\n// API Error interface\r\ninterface ApiError {\r\n  message: string;\r\n  code?: string;\r\n  status?: number;\r\n}\r\n\r\n// Create axios instance\r\nconst createApiClient = (): AxiosInstance => {\r\n  const client = axios.create({\r\n    baseURL: '/api',\r\n    timeout: 10000,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\n  // Request interceptor to add auth token\r\n  client.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem('accessToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // Response interceptor to handle token refresh\r\n  client.interceptors.response.use(\r\n    (response) => response,\r\n    async (error) => {\r\n      const originalRequest = error.config;\r\n\r\n      if (error.response?.status === 401 && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n\r\n        try {\r\n          const refreshToken = localStorage.getItem('refreshToken');\r\n          if (refreshToken) {\r\n            const response = await axios.post('/api/auth/refresh', {\r\n              refreshToken\r\n            });\r\n\r\n            const { accessToken, refreshToken: newRefreshToken } = response.data.data;\r\n            localStorage.setItem('accessToken', accessToken);\r\n            localStorage.setItem('refreshToken', newRefreshToken);\r\n\r\n            // Retry original request\r\n            originalRequest.headers.Authorization = `Bearer ${accessToken}`;\r\n            return client(originalRequest);\r\n          }\r\n        } catch (refreshError) {\r\n          // Refresh failed, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          localStorage.removeItem('refreshToken');\r\n          window.location.href = '/login';\r\n        }\r\n      }\r\n\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  return client;\r\n};\r\n\r\n// API client instance\r\nconst apiClient = createApiClient();\r\n\r\n// Generic API methods\r\nexport const api = {\r\n  // GET request\r\n  get: async <T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.get(url, config);\r\n    return response.data;\r\n  },\r\n\r\n  // POST request\r\n  post: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // PUT request\r\n  put: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.put(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // PATCH request\r\n  patch: async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.patch(url, data, config);\r\n    return response.data;\r\n  },\r\n\r\n  // DELETE request\r\n  delete: async <T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> => {\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.delete(url, config);\r\n    return response.data;\r\n  },\r\n\r\n  // Upload file\r\n  upload: async <T = any>(url: string, file: File, onProgress?: (progress: number) => void): Promise<ApiResponse<T>> => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (onProgress && progressEvent.total) {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          onProgress(progress);\r\n        }\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  },\r\n\r\n  // Upload multiple files\r\n  uploadMultiple: async <T = any>(url: string, files: File[], onProgress?: (progress: number) => void): Promise<ApiResponse<T>> => {\r\n    const formData = new FormData();\r\n    files.forEach((file, index) => {\r\n      formData.append(`file${index}`, file);\r\n    });\r\n\r\n    const response: AxiosResponse<ApiResponse<T>> = await apiClient.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (onProgress && progressEvent.total) {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          onProgress(progress);\r\n        }\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Authentication API\r\nexport const authApi = {\r\n  // Register user\r\n  register: async (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }) => {\r\n    return api.post('/auth/register', userData);\r\n  },\r\n\r\n  // Login user\r\n  login: async (credentials: { email: string; password: string }) => {\r\n    return api.post('/auth/login', credentials);\r\n  },\r\n\r\n  // Logout user\r\n  logout: async (refreshToken: string) => {\r\n    return api.post('/auth/logout', { refreshToken });\r\n  },\r\n\r\n  // Refresh token\r\n  refreshToken: async (refreshToken: string) => {\r\n    return api.post('/auth/refresh', { refreshToken });\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: async () => {\r\n    return api.get('/auth/me');\r\n  },\r\n\r\n  // Verify email\r\n  verifyEmail: async (token: string) => {\r\n    return api.post('/auth/verify-email', { token });\r\n  },\r\n\r\n  // Forgot password\r\n  forgotPassword: async (email: string) => {\r\n    return api.post('/auth/forgot-password', { email });\r\n  },\r\n\r\n  // Reset password\r\n  resetPassword: async (token: string, password: string) => {\r\n    return api.post('/auth/reset-password', { token, password });\r\n  },\r\n\r\n  // Change password\r\n  changePassword: async (currentPassword: string, newPassword: string) => {\r\n    return api.put('/auth/password', { currentPassword, newPassword });\r\n  },\r\n};\r\n\r\n// User API\r\nexport const userApi = {\r\n  // Get user profile\r\n  getProfile: async () => {\r\n    return api.get('/users/profile');\r\n  },\r\n\r\n  // Update user profile\r\n  updateProfile: async (profileData: {\r\n    name?: string;\r\n    phone?: string;\r\n    avatar?: string;\r\n  }) => {\r\n    return api.put('/users/profile', profileData);\r\n  },\r\n\r\n  // Upload avatar\r\n  uploadAvatar: async (file: File, onProgress?: (progress: number) => void) => {\r\n    return api.upload('/users/avatar', file, onProgress);\r\n  },\r\n\r\n  // Get user stats\r\n  getStats: async () => {\r\n    return api.get('/users/stats');\r\n  },\r\n\r\n  // Get user activity\r\n  getActivity: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/users/activity?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Delete account\r\n  deleteAccount: async (password: string) => {\r\n    return api.delete('/users/account', { data: { password } });\r\n  },\r\n};\r\n\r\n// Service Request API\r\nexport const serviceRequestApi = {\r\n  // Create instant request\r\n  createInstantRequest: async (requestData: {\r\n    category: string;\r\n    description: string;\r\n    price: number;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    broadcastRadius?: number;\r\n  }) => {\r\n    return api.post('/service-requests/instant', requestData);\r\n  },\r\n\r\n  // Create scheduled request\r\n  createScheduledRequest: async (requestData: {\r\n    category: string;\r\n    description: string;\r\n    price: number;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    scheduledDate: string;\r\n    scheduledTime: string;\r\n  }) => {\r\n    return api.post('/service-requests/scheduled', requestData);\r\n  },\r\n\r\n  // Get user requests\r\n  getUserRequests: async (page: number = 1, limit: number = 10, status?: string) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(status && { status })\r\n    });\r\n    return api.get(`/service-requests/user?${params}`);\r\n  },\r\n\r\n  // Get seller requests\r\n  getSellerRequests: async (page: number = 1, limit: number = 10, status?: string) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(status && { status })\r\n    });\r\n    return api.get(`/service-requests/seller?${params}`);\r\n  },\r\n\r\n  // Get request by ID\r\n  getRequestById: async (id: string) => {\r\n    return api.get(`/service-requests/${id}`);\r\n  },\r\n\r\n  // Boost price\r\n  boostPrice: async (id: string, newPrice: number) => {\r\n    return api.put(`/service-requests/${id}/boost`, { newPrice });\r\n  },\r\n\r\n  // Accept request\r\n  acceptRequest: async (id: string) => {\r\n    return api.put(`/service-requests/${id}/accept`);\r\n  },\r\n\r\n  // Update status\r\n  updateStatus: async (id: string, status: string, reason?: string) => {\r\n    return api.put(`/service-requests/${id}/status`, { status, reason });\r\n  },\r\n\r\n  // Delete request\r\n  deleteRequest: async (id: string) => {\r\n    return api.delete(`/service-requests/${id}`);\r\n  },\r\n\r\n  // Get nearby requests\r\n  getNearbyRequests: async (lat: number, lng: number, radius: number = 50, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      lat: lat.toString(),\r\n      lng: lng.toString(),\r\n      radius: radius.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/service-requests/nearby?${params}`);\r\n  },\r\n\r\n  // Get request stats\r\n  getStats: async () => {\r\n    return api.get('/service-requests/stats');\r\n  },\r\n};\r\n\r\n// Seller API\r\nexport const sellerApi = {\r\n  // Get all sellers\r\n  getSellers: async (page: number = 1, limit: number = 10, filters?: {\r\n    category?: string;\r\n    rating?: number;\r\n    availability?: boolean;\r\n  }) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(filters?.category && { category: filters.category }),\r\n      ...(filters?.rating && { rating: filters.rating.toString() }),\r\n      ...(filters?.availability !== undefined && { availability: filters.availability.toString() })\r\n    });\r\n    return api.get(`/sellers?${params}`);\r\n  },\r\n\r\n  // Get seller by ID\r\n  getSellerById: async (id: string) => {\r\n    return api.get(`/sellers/${id}`);\r\n  },\r\n\r\n  // Get seller profile\r\n  getSellerProfile: async () => {\r\n    return api.get('/sellers/profile/me');\r\n  },\r\n\r\n  // Create seller profile\r\n  createProfile: async (profileData: {\r\n    bio: string;\r\n    location: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    serviceCategories: string[];\r\n    yearsOfExperience: number;\r\n    certifications?: string[];\r\n    profilePicture?: string;\r\n    portfolio?: string[];\r\n  }) => {\r\n    return api.post('/sellers/profile', profileData);\r\n  },\r\n\r\n  // Update seller profile\r\n  updateProfile: async (profileData: {\r\n    bio?: string;\r\n    location?: {\r\n      address: string;\r\n      coordinates: [number, number];\r\n    };\r\n    serviceCategories?: string[];\r\n    yearsOfExperience?: number;\r\n    certifications?: string[];\r\n    availability?: boolean;\r\n    profilePicture?: string;\r\n    portfolio?: string[];\r\n  }) => {\r\n    return api.put('/sellers/profile', profileData);\r\n  },\r\n\r\n  // Get sellers by category\r\n  getSellersByCategory: async (category: string, page: number = 1, limit: number = 10) => {\r\n    return api.get(`/sellers/category/${category}?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Get nearby sellers\r\n  getNearbySellers: async (lat: number, lng: number, radius: number = 50, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      lat: lat.toString(),\r\n      lng: lng.toString(),\r\n      radius: radius.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/sellers/nearby?${params}`);\r\n  },\r\n\r\n  // Upload portfolio\r\n  uploadPortfolio: async (files: File[], onProgress?: (progress: number) => void) => {\r\n    return api.uploadMultiple('/sellers/portfolio', files, onProgress);\r\n  },\r\n\r\n  // Get top-rated sellers\r\n  getTopRatedSellers: async (limit: number = 10, category?: string) => {\r\n    const params = new URLSearchParams({\r\n      limit: limit.toString(),\r\n      ...(category && { category })\r\n    });\r\n    return api.get(`/sellers/top-rated?${params}`);\r\n  },\r\n\r\n  // Update availability\r\n  updateAvailability: async (availability: boolean) => {\r\n    return api.put('/sellers/availability', { availability });\r\n  },\r\n\r\n  // Get seller stats\r\n  getStats: async () => {\r\n    return api.get('/sellers/stats');\r\n  },\r\n};\r\n\r\n// Admin API\r\nexport const adminApi = {\r\n  // Get all users\r\n  getUsers: async (page: number = 1, limit: number = 10, filters?: {\r\n    role?: string;\r\n    status?: string;\r\n    search?: string;\r\n  }) => {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(filters?.role && { role: filters.role }),\r\n      ...(filters?.status && { status: filters.status }),\r\n      ...(filters?.search && { search: filters.search })\r\n    });\r\n    return api.get(`/admin/users?${params}`);\r\n  },\r\n\r\n  // Block user\r\n  blockUser: async (id: string, reason?: string) => {\r\n    return api.put(`/admin/users/${id}/block`, { reason });\r\n  },\r\n\r\n  // Unblock user\r\n  unblockUser: async (id: string) => {\r\n    return api.put(`/admin/users/${id}/unblock`);\r\n  },\r\n\r\n  // Update user role\r\n  updateUserRole: async (id: string, role: string) => {\r\n    return api.put(`/admin/users/${id}/role`, { role });\r\n  },\r\n\r\n  // Get pending sellers\r\n  getPendingSellers: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/admin/sellers/pending?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Approve seller\r\n  approveSeller: async (id: string) => {\r\n    return api.put(`/admin/sellers/${id}/approve`);\r\n  },\r\n\r\n  // Reject seller\r\n  rejectSeller: async (id: string, reason: string) => {\r\n    return api.put(`/admin/sellers/${id}/reject`, { reason });\r\n  },\r\n\r\n  // Get analytics\r\n  getAnalytics: async (period: string = '30d') => {\r\n    return api.get(`/admin/analytics?period=${period}`);\r\n  },\r\n\r\n  // Get audit logs\r\n  getAuditLogs: async (page: number = 1, limit: number = 10) => {\r\n    return api.get(`/admin/audit-logs?page=${page}&limit=${limit}`);\r\n  },\r\n\r\n  // Get system health\r\n  getSystemHealth: async () => {\r\n    return api.get('/admin/system-health');\r\n  },\r\n};\r\n\r\n// Error handling utility\r\nexport const handleApiError = (error: any): ApiError => {\r\n  if (error.response?.data) {\r\n    return {\r\n      message: error.response.data.message || 'An error occurred',\r\n      code: error.response.data.code,\r\n      status: error.response.status\r\n    };\r\n  }\r\n  \r\n  return {\r\n    message: error.message || 'Network error',\r\n    status: 0\r\n  };\r\n};\r\n\r\nexport default api;","import React, { createContext, useContext, useReducer, useEffect, type ReactNode } from 'react';\r\nimport { authApi, handleApiError } from '../api/client';\r\n\r\n// Types\r\ninterface User {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'buyer' | 'seller' | 'admin';\r\n  status: 'active' | 'blocked' | 'pending';\r\n  emailVerified: boolean;\r\n  phone?: string;\r\n  avatar?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\ninterface AuthContextType extends AuthState {\r\n  login: (email: string, password: string) => Promise<void>;\r\n  register: (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n  refreshAuth: () => Promise<void>;\r\n  clearError: () => void;\r\n  updateUser: (userData: Partial<User>) => void;\r\n  role?: 'buyer' | 'seller' | 'admin';\r\n  loginAs?: (role: 'buyer' | 'seller' | 'admin') => void;\r\n}\r\n\r\n// Initial state\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  accessToken: localStorage.getItem('accessToken'),\r\n  refreshToken: localStorage.getItem('refreshToken'),\r\n  isAuthenticated: false,\r\n  isLoading: true,\r\n  error: null,\r\n};\r\n\r\n// Action types\r\ntype AuthAction =\r\n  | { type: 'AUTH_START' }\r\n  | { type: 'AUTH_SUCCESS'; payload: { user: User; accessToken: string; refreshToken: string } }\r\n  | { type: 'AUTH_FAILURE'; payload: string }\r\n  | { type: 'AUTH_LOGOUT' }\r\n  | { type: 'AUTH_CLEAR_ERROR' }\r\n  | { type: 'AUTH_UPDATE_USER'; payload: Partial<User> }\r\n  | { type: 'AUTH_REFRESH_SUCCESS'; payload: { accessToken: string; refreshToken: string } };\r\n\r\n// Reducer\r\nconst authReducer = (state: AuthState, action: AuthAction): AuthState => {\r\n  switch (action.type) {\r\n    case 'AUTH_START':\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        accessToken: action.payload.accessToken,\r\n        refreshToken: action.payload.refreshToken,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_FAILURE':\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case 'AUTH_LOGOUT':\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_CLEAR_ERROR':\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n\r\n    case 'AUTH_UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        user: state.user ? { ...state.user, ...action.payload } : null,\r\n      };\r\n\r\n    case 'AUTH_REFRESH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        accessToken: action.payload.accessToken,\r\n        refreshToken: action.payload.refreshToken,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Context\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n// Provider component\r\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  // Initialize auth state on mount\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      const accessToken = localStorage.getItem('accessToken');\r\n      const refreshToken = localStorage.getItem('refreshToken');\r\n\r\n      if (accessToken && refreshToken) {\r\n        try {\r\n          dispatch({ type: 'AUTH_START' });\r\n          const response = await authApi.getCurrentUser();\r\n          \r\n          if (response.success && response.data) {\r\n            dispatch({\r\n              type: 'AUTH_SUCCESS',\r\n              payload: {\r\n                user: response.data,\r\n                accessToken,\r\n                refreshToken,\r\n              },\r\n            });\r\n          } else {\r\n            throw new Error('Failed to get user data');\r\n          }\r\n        } catch (error) {\r\n          console.error('Auth initialization failed:', error);\r\n          // Try to refresh token\r\n          try {\r\n            const refreshResponse = await authApi.refreshToken(refreshToken);\r\n            if (refreshResponse.success && refreshResponse.data) {\r\n              const { accessToken: newAccessToken, refreshToken: newRefreshToken } = refreshResponse.data;\r\n              localStorage.setItem('accessToken', newAccessToken);\r\n              localStorage.setItem('refreshToken', newRefreshToken);\r\n              \r\n              // Get user data with new token\r\n              const userResponse = await authApi.getCurrentUser();\r\n              if (userResponse.success && userResponse.data) {\r\n                dispatch({\r\n                  type: 'AUTH_SUCCESS',\r\n                  payload: {\r\n                    user: userResponse.data,\r\n                    accessToken: newAccessToken,\r\n                    refreshToken: newRefreshToken,\r\n                  },\r\n                });\r\n              } else {\r\n                throw new Error('Failed to get user data after refresh');\r\n              }\r\n            } else {\r\n              throw new Error('Token refresh failed');\r\n            }\r\n          } catch (refreshError) {\r\n            console.error('Token refresh failed:', refreshError);\r\n            localStorage.removeItem('accessToken');\r\n            localStorage.removeItem('refreshToken');\r\n            dispatch({ type: 'AUTH_FAILURE', payload: 'Session expired' });\r\n          }\r\n        }\r\n      } else {\r\n        dispatch({ type: 'AUTH_FAILURE', payload: 'No tokens found' });\r\n      }\r\n    };\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Login function\r\n  const login = async (email: string, password: string): Promise<void> => {\r\n    try {\r\n      dispatch({ type: 'AUTH_START' });\r\n      \r\n      const response = await authApi.login({ email, password });\r\n      \r\n      if (response.success && response.data) {\r\n        const { user, accessToken, refreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', refreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_SUCCESS',\r\n          payload: { user, accessToken, refreshToken },\r\n        });\r\n      } else {\r\n        throw new Error(response.message || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      const apiError = handleApiError(error);\r\n      dispatch({ type: 'AUTH_FAILURE', payload: apiError.message });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Register function\r\n  const register = async (userData: {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    role?: 'buyer' | 'seller';\r\n    phone?: string;\r\n  }): Promise<void> => {\r\n    try {\r\n      dispatch({ type: 'AUTH_START' });\r\n      \r\n      const response = await authApi.register(userData);\r\n      \r\n      if (response.success && response.data) {\r\n        const { user, accessToken, refreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', refreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_SUCCESS',\r\n          payload: { user, accessToken, refreshToken },\r\n        });\r\n      } else {\r\n        throw new Error(response.message || 'Registration failed');\r\n      }\r\n    } catch (error) {\r\n      const apiError = handleApiError(error);\r\n      dispatch({ type: 'AUTH_FAILURE', payload: apiError.message });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Logout function\r\n  const logout = async (): Promise<void> => {\r\n    try {\r\n      const refreshToken = state.refreshToken;\r\n      if (refreshToken) {\r\n        await authApi.logout(refreshToken);\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout API call failed:', error);\r\n    } finally {\r\n      localStorage.removeItem('accessToken');\r\n      localStorage.removeItem('refreshToken');\r\n      dispatch({ type: 'AUTH_LOGOUT' });\r\n    }\r\n  };\r\n\r\n  // Refresh auth function\r\n  const refreshAuth = async (): Promise<void> => {\r\n    try {\r\n      const refreshToken = state.refreshToken;\r\n      if (!refreshToken) {\r\n        throw new Error('No refresh token available');\r\n      }\r\n\r\n      const response = await authApi.refreshToken(refreshToken);\r\n      \r\n      if (response.success && response.data) {\r\n        const { accessToken, refreshToken: newRefreshToken } = response.data;\r\n        \r\n        localStorage.setItem('accessToken', accessToken);\r\n        localStorage.setItem('refreshToken', newRefreshToken);\r\n        \r\n        dispatch({\r\n          type: 'AUTH_REFRESH_SUCCESS',\r\n          payload: { accessToken, refreshToken: newRefreshToken },\r\n        });\r\n      } else {\r\n        throw new Error('Token refresh failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n      localStorage.removeItem('accessToken');\r\n      localStorage.removeItem('refreshToken');\r\n      dispatch({ type: 'AUTH_FAILURE', payload: 'Session expired' });\r\n    }\r\n  };\r\n\r\n  // Clear error function\r\n  const clearError = (): void => {\r\n    dispatch({ type: 'AUTH_CLEAR_ERROR' });\r\n  };\r\n\r\n  // Update user function\r\n  const updateUser = (userData: Partial<User>): void => {\r\n    dispatch({ type: 'AUTH_UPDATE_USER', payload: userData });\r\n  };\r\n\r\n  const contextValue: AuthContextType = {\r\n    ...state,\r\n    login,\r\n    register,\r\n    logout,\r\n    refreshAuth,\r\n    clearError,\r\n    updateUser,\r\n    role: state.user?.role,\r\n    loginAs: (role: 'buyer' | 'seller' | 'admin') => {\r\n      // Mock implementation for development\r\n      console.log('Login as role:', role);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// Hook to use auth context\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Higher-order component for protected routes\r\nexport const withAuth = <P extends object>(\r\n  Component: React.ComponentType<P>\r\n): React.FC<P> => {\r\n  return (props: P) => {\r\n    const { isAuthenticated, isLoading } = useAuth();\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n      window.location.href = '/login';\r\n      return null;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n};\r\n\r\nexport default AuthProvider;","import React from 'react';\r\nimport { isRouteErrorResponse, useRouteError } from 'react-router-dom';\r\n\r\nexport const RouteErrorBoundary: React.FC = () => {\r\n  const error = useRouteError();\r\n  const message = isRouteErrorResponse(error)\r\n    ? `${error.status} ${error.statusText}`\r\n    : (error instanceof Error ? error.message : 'Something went wrong');\r\n  return (\r\n    <div className=\"rounded-lg border p-6 dark:border-slate-700\">\r\n      <h2 className=\"text-xl font-semibold\">Something went wrong</h2>\r\n      <p className=\"mt-2 text-slate-600 dark:text-slate-300\">{message}</p>\r\n      <button onClick={() => window.location.reload()} className=\"mt-4 rounded-md bg-primary-600 px-3 py-1.5 text-white hover:bg-primary-700\">Reload</button>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../lib/auth';\r\n\r\nexport const DashboardRedirect: React.FC = () => {\r\n  const { role } = useAuth();\r\n  \r\n  switch (role) {\r\n    case 'buyer':\r\n      return <Navigate to=\"/user-dashboard\" replace />;\r\n    case 'seller':\r\n      return <Navigate to=\"/seller-dashboard\" replace />;\r\n    case 'admin':\r\n      return <Navigate to=\"/admin\" replace />;\r\n    default:\r\n      return <Navigate to=\"/login\" replace />;\r\n  }\r\n};\r\n","import { createBrowserRouter } from 'react-router-dom';\r\nimport { SimpleAppLayout } from '../ui/SimpleAppLayout';\r\nimport { AuthProvider } from '../lib/auth';\r\nimport { RouteErrorBoundary } from '../ui/RouteErrorBoundary';\r\nimport { DashboardRedirect } from '../components/DashboardRedirect';\r\nimport React from 'react';\r\n\r\n// Lazy load pages for better performance\r\n// Lazy load pages for better performance\r\nconst HomePage = React.lazy(() => import('../pages/TestPage').catch(() => ({ default: () => <div>Loading TestPage...</div> })));\r\nconst LoginPage = React.lazy(() => import('../pages/LoginPage').catch(() => ({ default: () => <div>Loading LoginPage...</div> })));\r\nconst SignupPage = React.lazy(() => import('../pages/SignupPage').catch(() => ({ default: () => <div>Loading SignupPage...</div> })));\r\nconst AdminPage = React.lazy(() => import('../pages/AdminPage').catch(() => ({ default: () => <div>Loading AdminPage...</div> })));\r\nconst UserDashboardPage = React.lazy(() => import('../pages/UserDashboardPage').catch(() => ({ default: () => <div>Loading UserDashboardPage...</div> })));\r\nconst SellerDashboardPage = React.lazy(() => import('../pages/SellerDashboardPage').catch(() => ({ default: () => <div>Loading SellerDashboardPage...</div> })));\r\nconst ProfilePage = React.lazy(() => import('../pages/ProfilePage').catch(() => ({ default: () => <div>Loading ProfilePage...</div> })));\r\nconst AboutPage = React.lazy(() => import('../pages/AboutPage').catch(() => ({ default: () => <div>Loading AboutPage...</div> })));\r\nconst NotFoundPage = React.lazy(() => import('../pages/NotFoundPage').catch(() => ({ default: () => <div>404 - Page Not Found</div> })));\r\nconst ServicesPage = React.lazy(() => import('../pages/ServicesPage').catch(() => ({ default: () => <div>Loading ServicesPage...</div> })));\r\nconst HowItWorksPage = React.lazy(() => import('../pages/HowItWorksPage').catch(() => ({ default: () => <div>Loading HowItWorksPage...</div> })));\r\nconst PricingPage = React.lazy(() => import('../pages/PricingPage').catch(() => ({ default: () => <div>Loading PricingPage...</div> })));\r\nconst ContactPage = React.lazy(() => import('../pages/ContactPage').catch(() => ({ default: () => <div>Loading ContactPage...</div> })));\r\nconst HelpCenterPage = React.lazy(() => import('../pages/HelpCenterPage').catch(() => ({ default: () => <div>Loading HelpCenterPage...</div> })));\r\nconst FAQPage = React.lazy(() => import('../pages/FAQPage').catch(() => ({ default: () => <div>Loading FAQPage...</div> })));\r\nconst TermsPage = React.lazy(() => import('../pages/TermsPage').catch(() => ({ default: () => <div>Loading TermsPage...</div> })));\r\nconst PrivacyPage = React.lazy(() => import('../pages/PrivacyPage').catch(() => ({ default: () => <div>Loading PrivacyPage...</div> })));\r\nconst CookiesPage = React.lazy(() => import('../pages/CookiesPage').catch(() => ({ default: () => <div>Loading CookiesPage...</div> })));\r\nconst RequestServicePage = React.lazy(() => import('../pages/RequestServicePage').catch(() => ({ default: () => <div>Loading RequestServicePage...</div> })));\r\nconst ServiceRequestDetailsPage = React.lazy(() => import('../pages/ServiceRequestDetailsPage').catch(() => ({ default: () => <div>Loading ServiceRequestDetailsPage...</div> })));\r\n\r\n// Wrapper component that provides Auth context within Router context\r\nconst AppWithAuth: React.FC = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <React.Suspense fallback={\r\n        <div className=\"min-h-screen flex items-center justify-center bg-white\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Loading Services Hub...</p>\r\n          </div>\r\n        </div>\r\n      }>\r\n        <SimpleAppLayout />\r\n      </React.Suspense>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport const router = createBrowserRouter([\r\n  {\r\n    element: <AppWithAuth />,\r\n    errorElement: <RouteErrorBoundary />,\r\n    children: [\r\n      { index: true, element: <HomePage /> },\r\n      { path: '/login', element: <LoginPage /> },\r\n      { path: '/signup', element: <SignupPage /> },\r\n      { path: '/about', element: <AboutPage /> },\r\n      { path: '/services', element: <ServicesPage /> },\r\n      { path: '/how-it-works', element: <HowItWorksPage /> },\r\n      { path: '/pricing', element: <PricingPage /> },\r\n      { path: '/contact', element: <ContactPage /> },\r\n      { path: '/help', element: <HelpCenterPage /> },\r\n      { path: '/faq', element: <FAQPage /> },\r\n      { path: '/terms', element: <TermsPage /> },\r\n      { path: '/privacy', element: <PrivacyPage /> },\r\n      { path: '/cookies', element: <CookiesPage /> },\r\n      { path: '/admin', element: <AdminPage /> },\r\n      { path: '/user-dashboard', element: <UserDashboardPage /> },\r\n      { path: '/seller-dashboard', element: <SellerDashboardPage /> },\r\n      { path: '/dashboard', element: <DashboardRedirect /> }, // Smart redirect based on role\r\n      { path: '/profile', element: <ProfilePage /> },\r\n      { path: '/request-service', element: <RequestServicePage /> },\r\n      { path: '/requests/:id', element: <ServiceRequestDetailsPage /> },\r\n      { path: '*', element: <NotFoundPage /> },\r\n    ],\r\n  },\r\n]);\r\n\r\n\r\n","// import { config } from '../config/env';\r\n\r\n// Google Analytics 4 service\r\nclass AnalyticsService {\r\n  private measurementId: string;\r\n  private isInitialized: boolean = false;\r\n\r\n  constructor() {\r\n    this.measurementId = 'G-XXXXXXXXXX'; // Placeholder\r\n  }\r\n\r\n  // Initialize Google Analytics\r\n  init(): void {\r\n    if (this.isInitialized || !this.measurementId) return;\r\n\r\n    // Load Google Analytics script\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${this.measurementId}`;\r\n    document.head.appendChild(script);\r\n\r\n    // Initialize gtag\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag(...args: any[]) {\r\n      window.dataLayer.push(args);\r\n    }\r\n    window.gtag = gtag;\r\n\r\n    gtag('js', new Date());\r\n    gtag('config', this.measurementId, {\r\n      page_title: document.title,\r\n      page_location: window.location.href,\r\n    });\r\n\r\n    this.isInitialized = true;\r\n  }\r\n\r\n  // Track page view\r\n  trackPageView(pagePath: string, pageTitle?: string): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      page_path: pagePath,\r\n      page_title: pageTitle || document.title,\r\n    });\r\n  }\r\n\r\n  // Track custom event\r\n  trackEvent(eventName: string, parameters?: Record<string, any>): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('event', eventName, {\r\n      ...parameters,\r\n      event_category: parameters?.category || 'engagement',\r\n      event_label: parameters?.label,\r\n      value: parameters?.value,\r\n    });\r\n  }\r\n\r\n  // Track user registration\r\n  trackRegistration(method: string = 'email'): void {\r\n    this.trackEvent('sign_up', {\r\n      method,\r\n      category: 'user',\r\n    });\r\n  }\r\n\r\n  // Track user login\r\n  trackLogin(method: string = 'email'): void {\r\n    this.trackEvent('login', {\r\n      method,\r\n      category: 'user',\r\n    });\r\n  }\r\n\r\n  // Track service request creation\r\n  trackServiceRequestCreated(requestType: 'instant' | 'scheduled', category: string, price: number): void {\r\n    this.trackEvent('service_request_created', {\r\n      request_type: requestType,\r\n      service_category: category,\r\n      price,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track service request accepted\r\n  trackServiceRequestAccepted(requestId: string, sellerId: string): void {\r\n    this.trackEvent('service_request_accepted', {\r\n      request_id: requestId,\r\n      seller_id: sellerId,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track service request completed\r\n  trackServiceRequestCompleted(requestId: string, price: number): void {\r\n    this.trackEvent('service_request_completed', {\r\n      request_id: requestId,\r\n      price,\r\n      category: 'service',\r\n    });\r\n  }\r\n\r\n  // Track seller profile creation\r\n  trackSellerProfileCreated(categories: string[]): void {\r\n    this.trackEvent('seller_profile_created', {\r\n      service_categories: categories.join(','),\r\n      category: 'seller',\r\n    });\r\n  }\r\n\r\n  // Track search\r\n  trackSearch(searchTerm: string, resultsCount: number): void {\r\n    this.trackEvent('search', {\r\n      search_term: searchTerm,\r\n      results_count: resultsCount,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track file upload\r\n  trackFileUpload(fileType: 'avatar' | 'portfolio', fileSize: number): void {\r\n    this.trackEvent('file_upload', {\r\n      file_type: fileType,\r\n      file_size: fileSize,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track error\r\n  trackError(errorMessage: string, errorCode?: string): void {\r\n    this.trackEvent('error', {\r\n      error_message: errorMessage,\r\n      error_code: errorCode,\r\n      category: 'error',\r\n    });\r\n  }\r\n\r\n  // Track conversion (purchase)\r\n  trackConversion(transactionId: string, value: number, currency: string = 'USD'): void {\r\n    this.trackEvent('purchase', {\r\n      transaction_id: transactionId,\r\n      value,\r\n      currency,\r\n      category: 'ecommerce',\r\n    });\r\n  }\r\n\r\n  // Set user properties\r\n  setUserProperties(properties: Record<string, any>): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      user_properties: properties,\r\n    });\r\n  }\r\n\r\n  // Set user ID\r\n  setUserId(userId: string): void {\r\n    if (!this.isInitialized) return;\r\n\r\n    window.gtag('config', this.measurementId, {\r\n      user_id: userId,\r\n    });\r\n  }\r\n\r\n  // Track timing\r\n  trackTiming(name: string, value: number, category: string = 'performance'): void {\r\n    this.trackEvent('timing_complete', {\r\n      name,\r\n      value,\r\n      category,\r\n    });\r\n  }\r\n\r\n  // Track social interaction\r\n  trackSocialInteraction(network: string, action: string, target?: string): void {\r\n    this.trackEvent('social_interaction', {\r\n      social_network: network,\r\n      social_action: action,\r\n      social_target: target,\r\n      category: 'social',\r\n    });\r\n  }\r\n\r\n  // Track outbound link click\r\n  trackOutboundLink(url: string): void {\r\n    this.trackEvent('click', {\r\n      event_category: 'outbound',\r\n      event_label: url,\r\n      transport_type: 'beacon',\r\n    });\r\n  }\r\n\r\n  // Track form submission\r\n  trackFormSubmission(formName: string, formType: string): void {\r\n    this.trackEvent('form_submit', {\r\n      form_name: formName,\r\n      form_type: formType,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track video interaction\r\n  trackVideoInteraction(action: string, videoTitle: string, progress?: number): void {\r\n    this.trackEvent('video_interaction', {\r\n      video_action: action,\r\n      video_title: videoTitle,\r\n      video_progress: progress,\r\n      category: 'video',\r\n    });\r\n  }\r\n\r\n  // Track scroll depth\r\n  trackScrollDepth(depth: number): void {\r\n    this.trackEvent('scroll', {\r\n      scroll_depth: depth,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n\r\n  // Track time on page\r\n  trackTimeOnPage(timeInSeconds: number): void {\r\n    this.trackEvent('timing', {\r\n      name: 'time_on_page',\r\n      value: timeInSeconds,\r\n      category: 'engagement',\r\n    });\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst analyticsService = new AnalyticsService();\r\n\r\n// Initialize analytics on app start\r\nif (typeof window !== 'undefined') {\r\n  analyticsService.init();\r\n}\r\n\r\n// Export the service\r\nexport default analyticsService;\r\n\r\n// Export individual functions for convenience\r\nexport const {\r\n  trackPageView,\r\n  trackEvent,\r\n  trackRegistration,\r\n  trackLogin,\r\n  trackServiceRequestCreated,\r\n  trackServiceRequestAccepted,\r\n  trackServiceRequestCompleted,\r\n  trackSellerProfileCreated,\r\n  trackSearch,\r\n  trackFileUpload,\r\n  trackError,\r\n  trackConversion,\r\n  setUserProperties,\r\n  setUserId,\r\n  trackTiming,\r\n  trackSocialInteraction,\r\n  trackOutboundLink,\r\n  trackFormSubmission,\r\n  trackVideoInteraction,\r\n  trackScrollDepth,\r\n  trackTimeOnPage,\r\n} = analyticsService;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface CookieConsentProps {\r\n  onAccept: (preferences: CookiePreferences) => void;\r\n  onDecline: () => void;\r\n}\r\n\r\ninterface CookiePreferences {\r\n  necessary: boolean;\r\n  analytics: boolean;\r\n  marketing: boolean;\r\n  preferences: boolean;\r\n}\r\n\r\nconst CookieConsent: React.FC<CookieConsentProps> = ({ onAccept, onDecline }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [preferences, setPreferences] = useState<CookiePreferences>({\r\n    necessary: true, // Always true, can't be disabled\r\n    analytics: false,\r\n    marketing: false,\r\n    preferences: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check if user has already made a choice\r\n    const consent = localStorage.getItem('cookieConsent');\r\n    if (!consent) {\r\n      setIsVisible(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleAcceptAll = () => {\r\n    const allPreferences: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: true,\r\n      marketing: true,\r\n      preferences: true,\r\n    };\r\n    localStorage.setItem('cookieConsent', JSON.stringify(allPreferences));\r\n    onAccept(allPreferences);\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const handleAcceptSelected = () => {\r\n    localStorage.setItem('cookieConsent', JSON.stringify(preferences));\r\n    onAccept(preferences);\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const handleDecline = () => {\r\n    const minimalPreferences: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: false,\r\n      marketing: false,\r\n      preferences: false,\r\n    };\r\n    localStorage.setItem('cookieConsent', JSON.stringify(minimalPreferences));\r\n    onDecline();\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const togglePreference = (key: keyof CookiePreferences) => {\r\n    if (key === 'necessary') return; // Can't disable necessary cookies\r\n    \r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [key]: !prev[key],\r\n    }));\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 100 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: 100 }}\r\n        className=\"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 shadow-lg\"\r\n      >\r\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Cookie Preferences\r\n              </h3>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\r\n                We use cookies to enhance your experience, analyze site traffic, and personalize content. \r\n                You can choose which cookies to accept or decline.\r\n              </p>\r\n              \r\n              {showDetails && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, height: 0 }}\r\n                  animate={{ opacity: 1, height: 'auto' }}\r\n                  exit={{ opacity: 0, height: 0 }}\r\n                  className=\"space-y-4 mb-4\"\r\n                >\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Necessary Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Essential for the website to function properly. Cannot be disabled.\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"w-10 h-6 bg-green-500 rounded-full flex items-center justify-end px-1\">\r\n                          <div className=\"w-4 h-4 bg-white rounded-full\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Analytics Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Help us understand how visitors interact with our website.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('analytics')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.analytics ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.analytics ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Marketing Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Used to deliver personalized advertisements.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('marketing')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.marketing ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.marketing ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg\">\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white\">Preference Cookies</h4>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                          Remember your preferences and settings.\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => togglePreference('preferences')}\r\n                        className={`w-10 h-6 rounded-full flex items-center transition-colors ${\r\n                          preferences.preferences ? 'bg-blue-500' : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        <div className={`w-4 h-4 bg-white rounded-full transition-transform ${\r\n                          preferences.preferences ? 'translate-x-5' : 'translate-x-1'\r\n                        }`}></div>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <button\r\n                  onClick={() => setShowDetails(!showDetails)}\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  {showDetails ? 'Hide Details' : 'Show Details'}\r\n                </button>\r\n                <a\r\n                  href=\"/privacy\"\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  Privacy Policy\r\n                </a>\r\n                <a\r\n                  href=\"/cookies\"\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline\"\r\n                >\r\n                  Cookie Policy\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-3 lg:ml-6\">\r\n              <button\r\n                onClick={handleDecline}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n              >\r\n                Decline All\r\n              </button>\r\n              <button\r\n                onClick={handleAcceptSelected}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n              >\r\n                Accept Selected\r\n              </button>\r\n              <button\r\n                onClick={handleAcceptAll}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Accept All\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\n// Hook to manage cookie consent\r\nexport const useCookieConsent = () => {\r\n  const [consent, setConsent] = useState<CookiePreferences | null>(null);\r\n\r\n  useEffect(() => {\r\n    const savedConsent = localStorage.getItem('cookieConsent');\r\n    if (savedConsent) {\r\n      setConsent(JSON.parse(savedConsent));\r\n    }\r\n  }, []);\r\n\r\n  const handleAccept = (preferences: CookiePreferences) => {\r\n    setConsent(preferences);\r\n    \r\n    // Initialize analytics if accepted\r\n    if (preferences.analytics) {\r\n      // Initialize Google Analytics\r\n      if (typeof window !== 'undefined' && window.gtag) {\r\n        window.gtag('consent', 'update', {\r\n          analytics_storage: 'granted',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Initialize marketing cookies if accepted\r\n    if (preferences.marketing) {\r\n      if (typeof window !== 'undefined' && window.gtag) {\r\n        window.gtag('consent', 'update', {\r\n          ad_storage: 'granted',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDecline = () => {\r\n    const minimalConsent: CookiePreferences = {\r\n      necessary: true,\r\n      analytics: false,\r\n      marketing: false,\r\n      preferences: false,\r\n    };\r\n    setConsent(minimalConsent);\r\n  };\r\n\r\n  return {\r\n    consent,\r\n    handleAccept,\r\n    handleDecline,\r\n    hasConsent: consent !== null,\r\n  };\r\n};\r\n\r\nexport default CookieConsent;\r\n","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { RouterProvider } from 'react-router-dom';\r\nimport { router } from './routes/index';\r\nimport './index.css';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { initSentry } from './services/sentry';\r\nimport analyticsService from './services/analytics';\r\nimport CookieConsent, { useCookieConsent } from './components/CookieConsent';\r\n\r\n// Initialize services\r\ninitSentry();\r\nanalyticsService.init();\r\n\r\n// Register service worker\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/sw.js')\r\n      .then((registration) => {\r\n        console.log('SW registered: ', registration);\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('SW registration failed: ', registrationError);\r\n      });\r\n  });\r\n}\r\n\r\nconst rootElement = document.getElementById('root');\r\nif (!rootElement) {\r\n  throw new Error('Root element with id \"root\" not found');\r\n}\r\n\r\n// App component with cookie consent\r\nconst AppWithConsent = () => {\r\n  const { handleAccept, handleDecline } = useCookieConsent();\r\n\r\n  return (\r\n    <>\r\n      <RouterProvider router={router} />\r\n      <CookieConsent onAccept={handleAccept} onDecline={handleDecline} />\r\n    </>\r\n  );\r\n};\r\n\r\ncreateRoot(rootElement).render(\r\n  <React.StrictMode>\r\n    <AppWithConsent />\r\n  </React.StrictMode>\r\n);\r\n\r\n\r\n"],"file":"assets/index-CdBlvoJr.js"}