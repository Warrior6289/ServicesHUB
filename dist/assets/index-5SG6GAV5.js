const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TestPage-MHJnSRTR.js","assets/ui-D5g_oJ6l.js","assets/vendor-BQpy66Z4.js","assets/LoginPage-DULimQVt.js","assets/index.esm-Cli8lVPl.js","assets/zod-B0oTkubG.js","assets/router-Crx9FcUI.js","assets/utils-BKFvrhvV.js","assets/SignupPage-Cn4-0f-k.js","assets/AdminPage-CMUTCByu.js","assets/useClickOutside-nDIKIF99.js","assets/sellerProfile-DZrTRoRK.js","assets/UserDashboardPage-BOd4uiZ_.js","assets/RatingBlock-DmSbiGqk.js","assets/ProfileForm-DATyq8JB.js","assets/CategoryCard-Lpw5JL9k.js","assets/ServiceRequestCard-D4nwqkFD.js","assets/SearchBar-Bj1JmZRE.js","assets/PriceBoostModal-BqAXVxqT.js","assets/serviceRequests-CJCfd_jz.js","assets/UserDashboardPage-BwXjGcf2.css","assets/SellerDashboardPage-DeQrRdwq.js","assets/ProfilePage-BuJbduNz.js","assets/AboutPage-DqYUT5jn.js","assets/NotFoundPage-C_kAIKj3.js","assets/ServicesPage-CpHzQIvw.js","assets/HowItWorksPage-CPsVSRlP.js","assets/PricingPage-s5GFGFx7.js","assets/AccordionItem-BE7ef3FT.js","assets/ContactPage-23xYfExH.js","assets/HelpCenterPage-j0nL2Rvw.js","assets/FAQPage-C3L2yp_y.js","assets/TermsPage-BujWX1y1.js","assets/PrivacyPage--L38Vtek.js","assets/CookiesPage-C2a5MYDK.js","assets/RequestServicePage-D3X9LriT.js","assets/RequestServicePage-Dgihpmma.css","assets/ServiceRequestDetailsPage-BRUKR3vU.js"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-D5g_oJ6l.js";import{b as t,r,c as a}from"./vendor-BQpy66Z4.js";import{O as s,u as o,i as n,N as c,c as i,R as l}from"./router-Crx9FcUI.js";import{a as d}from"./utils-BKFvrhvV.js";var h;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u=t;h=u.createRoot,u.hydrateRoot;const p={},m=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in p)return;p[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},g=()=>e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(s,{})})}),f={};const _=function(){const e={NODE_ENV:f.NODE_ENV,VITE_APP_VERSION:f.VITE_APP_VERSION};if(!e.NODE_ENV)throw new Error("NODE_ENV is required");const t={API_BASE_URL:"/api",NODE_ENV:e.NODE_ENV,APP_VERSION:e.VITE_APP_VERSION||"1.0.0",SENTRY_DSN:f.VITE_SENTRY_DSN,ANALYTICS_ID:f.VITE_ANALYTICS_ID};return t}();_.NODE_ENV;const T="production"===_.NODE_ENV;_.NODE_ENV,T&&_.ANALYTICS_ID,T&&_.SENTRY_DSN;const y=(()=>{const e=d.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}});return e.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),e.interceptors.response.use(e=>e,async t=>{var r;const a=t.config;if(401===(null==(r=t.response)?void 0:r.status)&&!a._retry){a._retry=!0;try{const t=localStorage.getItem("refreshToken");if(t){const r=await d.post("/api/auth/refresh",{refreshToken:t}),{accessToken:s,refreshToken:o}=r.data.data;return localStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",o),a.headers.Authorization=`Bearer ${s}`,e(a)}}catch(s){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"}}return Promise.reject(t)}),e})(),x={get:async(e,t)=>(await y.get(e,t)).data,post:async(e,t,r)=>(await y.post(e,t,r)).data,put:async(e,t,r)=>(await y.put(e,t,r)).data,patch:async(e,t,r)=>(await y.patch(e,t,r)).data,delete:async(e,t)=>(await y.delete(e,t)).data,upload:async(e,t,r)=>{const a=new FormData;a.append("file",t);return(await y.post(e,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}}})).data},uploadMultiple:async(e,t,r)=>{const a=new FormData;t.forEach((e,t)=>{a.append(`file${t}`,e)});return(await y.post(e,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}}})).data}},E=async e=>x.post("/auth/register",e),j=async e=>x.post("/auth/login",e),v=async e=>x.post("/auth/logout",{refreshToken:e}),P=async e=>x.post("/auth/refresh",{refreshToken:e}),S=async()=>x.get("/auth/me"),k=e=>{var t;return(null==(t=e.response)?void 0:t.data)?{message:e.response.data.message||"An error occurred",code:e.response.data.code,status:e.response.status}:{message:e.message||"Network error",status:0}},A={user:null,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken"),isAuthenticated:!1,isLoading:!0,error:null},w=(e,t)=>{switch(t.type){case"AUTH_START":return{...e,isLoading:!0,error:null};case"AUTH_SUCCESS":return{...e,user:t.payload.user,accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken,isAuthenticated:!0,isLoading:!1,error:null};case"AUTH_FAILURE":return{...e,user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case"AUTH_LOGOUT":return{...e,user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null};case"AUTH_CLEAR_ERROR":return{...e,error:null};case"AUTH_UPDATE_USER":return{...e,user:e.user?{...e.user,...t.payload}:null};case"AUTH_REFRESH_SUCCESS":return{...e,accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken};default:return e}},b=r.createContext(void 0),R=({children:t})=>{var a;const[s,o]=r.useReducer(w,A);r.useEffect(()=>{(async()=>{const e=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");if(e&&t)try{o({type:"AUTH_START"});const r=await S();if(!r.success||!r.data)throw new Error("Failed to get user data");o({type:"AUTH_SUCCESS",payload:{user:r.data,accessToken:e,refreshToken:t}})}catch(r){try{const e=await P(t);if(!e.success||!e.data)throw new Error("Token refresh failed");{const{accessToken:t,refreshToken:r}=e.data;localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",r);const a=await S();if(!a.success||!a.data)throw new Error("Failed to get user data after refresh");o({type:"AUTH_SUCCESS",payload:{user:a.data,accessToken:t,refreshToken:r}})}}catch(a){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o({type:"AUTH_FAILURE",payload:"Session expired"})}}else o({type:"AUTH_FAILURE",payload:"No tokens found"})})()},[]);const n={...s,login:async(e,t)=>{try{o({type:"AUTH_START"});const r=await j({email:e,password:t});if(!r.success||!r.data)throw new Error(r.message||"Login failed");{const{user:e,accessToken:t,refreshToken:a}=r.data;localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",a),o({type:"AUTH_SUCCESS",payload:{user:e,accessToken:t,refreshToken:a}})}}catch(r){const e=k(r);throw o({type:"AUTH_FAILURE",payload:e.message}),r}},register:async e=>{try{o({type:"AUTH_START"});const t=await E(e);if(!t.success||!t.data)throw new Error(t.message||"Registration failed");{const{user:e,accessToken:r,refreshToken:a}=t.data;localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",a),o({type:"AUTH_SUCCESS",payload:{user:e,accessToken:r,refreshToken:a}})}}catch(t){const e=k(t);throw o({type:"AUTH_FAILURE",payload:e.message}),t}},logout:async()=>{try{const e=s.refreshToken;e&&await v(e)}catch(e){}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o({type:"AUTH_LOGOUT"})}},refreshAuth:async()=>{try{const e=s.refreshToken;if(!e)throw new Error("No refresh token available");const t=await P(e);if(!t.success||!t.data)throw new Error("Token refresh failed");{const{accessToken:e,refreshToken:r}=t.data;localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",r),o({type:"AUTH_REFRESH_SUCCESS",payload:{accessToken:e,refreshToken:r}})}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o({type:"AUTH_FAILURE",payload:"Session expired"})}},clearError:()=>{o({type:"AUTH_CLEAR_ERROR"})},updateUser:e=>{o({type:"AUTH_UPDATE_USER",payload:e})},role:null==(a=s.user)?void 0:a.role,loginAs:e=>{}};return e.jsx(b.Provider,{value:n,children:t})},L=()=>{const e=r.useContext(b);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},I=()=>{const t=o(),r=n(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:"Something went wrong";return e.jsxs("div",{className:"rounded-lg border p-6 dark:border-slate-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Something went wrong"}),e.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 rounded-md bg-primary-600 px-3 py-1.5 text-white hover:bg-primary-700",children:"Reload"})]})},N=()=>{const{role:t}=L();switch(t){case"buyer":return e.jsx(c,{to:"/user-dashboard",replace:!0});case"seller":return e.jsx(c,{to:"/seller-dashboard",replace:!0});case"admin":return e.jsx(c,{to:"/admin",replace:!0});default:return e.jsx(c,{to:"/login",replace:!0})}},U=a.lazy(()=>m(()=>import("./TestPage-MHJnSRTR.js"),__vite__mapDeps([0,1,2])).catch(()=>({default:()=>e.jsx("div",{children:"Loading TestPage..."})}))),D=a.lazy(()=>m(()=>import("./LoginPage-DULimQVt.js"),__vite__mapDeps([3,1,2,4,5,6,7])).catch(()=>({default:()=>e.jsx("div",{children:"Loading LoginPage..."})}))),O=a.lazy(()=>m(()=>import("./SignupPage-Cn4-0f-k.js"),__vite__mapDeps([8,1,2])).catch(()=>({default:()=>e.jsx("div",{children:"Loading SignupPage..."})}))),C=a.lazy(()=>m(()=>import("./AdminPage-CMUTCByu.js"),__vite__mapDeps([9,1,2,10,11,6,7])).catch(()=>({default:()=>e.jsx("div",{children:"Loading AdminPage..."})}))),V=a.lazy(()=>m(()=>import("./UserDashboardPage-BOd4uiZ_.js"),__vite__mapDeps([12,1,2,13,14,4,15,16,6,17,18,19,7,20])).catch(()=>({default:()=>e.jsx("div",{children:"Loading UserDashboardPage..."})}))),H=a.lazy(()=>m(()=>import("./SellerDashboardPage-DeQrRdwq.js"),__vite__mapDeps([21,1,2,13,4,16,6,19,11,7])).catch(()=>({default:()=>e.jsx("div",{children:"Loading SellerDashboardPage..."})}))),z=a.lazy(()=>m(()=>import("./ProfilePage-BuJbduNz.js"),__vite__mapDeps([22,1,2,14,4,6,7])).catch(()=>({default:()=>e.jsx("div",{children:"Loading ProfilePage..."})}))),F=a.lazy(()=>m(()=>import("./AboutPage-DqYUT5jn.js"),__vite__mapDeps([23,1,2,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading AboutPage..."})}))),q=a.lazy(()=>m(()=>import("./NotFoundPage-C_kAIKj3.js"),__vite__mapDeps([24,1,2,6])).catch(()=>({default:()=>e.jsx("div",{children:"404 - Page Not Found"})}))),$=a.lazy(()=>m(()=>import("./ServicesPage-CpHzQIvw.js"),__vite__mapDeps([25,1,2,15,13,17,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading ServicesPage..."})}))),M=a.lazy(()=>m(()=>import("./HowItWorksPage-CPsVSRlP.js"),__vite__mapDeps([26,1,2,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading HowItWorksPage..."})}))),Y=a.lazy(()=>m(()=>import("./PricingPage-s5GFGFx7.js"),__vite__mapDeps([27,1,2,28,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading PricingPage..."})}))),B=a.lazy(()=>m(()=>import("./ContactPage-23xYfExH.js"),__vite__mapDeps([29,1,2,4,5,7,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading ContactPage..."})}))),W=a.lazy(()=>m(()=>import("./HelpCenterPage-j0nL2Rvw.js"),__vite__mapDeps([30,1,2,17,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading HelpCenterPage..."})}))),G=a.lazy(()=>m(()=>import("./FAQPage-C3L2yp_y.js"),__vite__mapDeps([31,1,2,28,17,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading FAQPage..."})}))),Q=a.lazy(()=>m(()=>import("./TermsPage-BujWX1y1.js"),__vite__mapDeps([32,1,2])).catch(()=>({default:()=>e.jsx("div",{children:"Loading TermsPage..."})}))),K=a.lazy(()=>m(()=>import("./PrivacyPage--L38Vtek.js"),__vite__mapDeps([33,1,2])).catch(()=>({default:()=>e.jsx("div",{children:"Loading PrivacyPage..."})}))),J=a.lazy(()=>m(()=>import("./CookiesPage-C2a5MYDK.js"),__vite__mapDeps([34,1,2,6])).catch(()=>({default:()=>e.jsx("div",{children:"Loading CookiesPage..."})}))),X=a.lazy(()=>m(()=>import("./RequestServicePage-D3X9LriT.js"),__vite__mapDeps([35,1,2,6,4,5,11,10,7,19,36])).catch(()=>({default:()=>e.jsx("div",{children:"Loading RequestServicePage..."})}))),Z=a.lazy(()=>m(()=>import("./ServiceRequestDetailsPage-BRUKR3vU.js"),__vite__mapDeps([37,1,2,6,18,19])).catch(()=>({default:()=>e.jsx("div",{children:"Loading ServiceRequestDetailsPage..."})}))),ee=()=>e.jsx(R,{children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Services Hub..."})]})}),children:e.jsx(g,{})})}),te=i([{element:e.jsx(ee,{}),errorElement:e.jsx(I,{}),children:[{index:!0,element:e.jsx(U,{})},{path:"/login",element:e.jsx(D,{})},{path:"/signup",element:e.jsx(O,{})},{path:"/about",element:e.jsx(F,{})},{path:"/services",element:e.jsx($,{})},{path:"/how-it-works",element:e.jsx(M,{})},{path:"/pricing",element:e.jsx(Y,{})},{path:"/contact",element:e.jsx(B,{})},{path:"/help",element:e.jsx(W,{})},{path:"/faq",element:e.jsx(G,{})},{path:"/terms",element:e.jsx(Q,{})},{path:"/privacy",element:e.jsx(K,{})},{path:"/cookies",element:e.jsx(J,{})},{path:"/admin",element:e.jsx(C,{})},{path:"/user-dashboard",element:e.jsx(V,{})},{path:"/seller-dashboard",element:e.jsx(H,{})},{path:"/dashboard",element:e.jsx(N,{})},{path:"/profile",element:e.jsx(z,{})},{path:"/request-service",element:e.jsx(X,{})},{path:"/requests/:id",element:e.jsx(Z,{})},{path:"*",element:e.jsx(q,{})}]}]);class re extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){var t;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🚨 Services Hub Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Something went wrong. Please refresh the page."}),e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[e.jsx("strong",{children:"Error:"})," ",(null==(t=this.state.error)?void 0:t.message)||"Unknown error"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-orange-600 text-white rounded hover:bg-orange-700 font-medium",children:"🔄 Refresh Page"})]})}):this.props.children}}const ae=document.getElementById("root");if(!ae)throw document.body.innerHTML='\n    <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: white; font-family: Arial, sans-serif;">\n      <div style="text-align: center; max-width: 400px; padding: 20px;">\n        <h1 style="color: #333; margin-bottom: 20px;">🚨 Services Hub - Critical Error</h1>\n        <p style="color: #666; margin-bottom: 20px;">Root element not found. This is a critical error.</p>\n        <button onclick="window.location.reload()" style="padding: 10px 20px; background: #f97316; color: white; border: none; border-radius: 5px; cursor: pointer;">\n          🔄 Refresh Page\n        </button>\n      </div>\n    </div>\n  ',new Error('Root element with id "root" not found');const se=()=>{try{return e.jsx(re,{children:e.jsx(l,{router:te})})}catch(t){return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🚨 Services Hub - Render Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to render the app. Please refresh."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:"🔄 Refresh Page"})]})})}};try{h(ae).render(e.jsx(a.StrictMode,{children:e.jsx(se,{})}))}catch(oe){ae.innerHTML='\n    <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: white; font-family: Arial, sans-serif;">\n      <div style="text-align: center; max-width: 400px; padding: 20px;">\n        <h1 style="color: #333; margin-bottom: 20px;">🚨 Services Hub - Render Failed</h1>\n        <p style="color: #666; margin-bottom: 20px;">Failed to render React app. Please refresh the page.</p>\n        <button onclick="window.location.reload()" style="padding: 10px 20px; background: #f97316; color: white; border: none; border-radius: 5px; cursor: pointer;">\n          🔄 Refresh Page\n        </button>\n      </div>\n    </div>\n  '}export{x as a,L as u};
//# sourceMappingURL=index-5SG6GAV5.js.map
